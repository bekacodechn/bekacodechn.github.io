import{jsx as n,jsxs as r,Fragment as l}from"react/jsx-runtime";const t=void 0,d=[{id:"render-blocking-\u6E32\u67D3\u963B\u585E",text:"Render blocking \u6E32\u67D3\u963B\u585E",depth:2},{id:"parser-blocking-\u89E3\u6790\u5668\u963B\u585E",text:"Parser blocking \u89E3\u6790\u5668\u963B\u585E",depth:2},{id:"the-preload-scanner-\u9884\u52A0\u8F7D\u626B\u63CF\u5668",text:"The preload scanner \u9884\u52A0\u8F7D\u626B\u63CF\u5668",depth:2},{id:"css",text:"CSS",depth:2}],s="optimize-resource-loading \u4F18\u5316\u8D44\u6E90\u8D1F\u8F7D";function c(i){const e=Object.assign({h1:"h1",a:"a",p:"p",code:"code",strong:"strong",hr:"hr",h2:"h2",img:"img",div:"div",button:"button",span:"span",pre:"pre",ul:"ul",li:"li"},i.components);return r(l,{children:[r(e.h1,{id:"optimize-resource-loading-\u4F18\u5316\u8D44\u6E90\u8D1F\u8F7D",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#optimize-resource-loading-\u4F18\u5316\u8D44\u6E90\u8D1F\u8F7D",children:"#"}),"optimize-resource-loading \u4F18\u5316\u8D44\u6E90\u8D1F\u8F7D"]}),`
`,n(e.p,{children:n(e.code,{children:"metadata:"})}),`
`,r(e.p,{children:[n(e.strong,{children:"\u94FE\u63A5:"})," ",n(e.a,{href:"https://web.dev/learn/performance/optimize-resource-loading",target:"_blank",rel:"nofollow",children:"https://web.dev/learn/performance/optimize-resource-loading"})]}),`
`,n(e.hr,{}),`
`,r(e.p,{children:["\u5728\u4E0A\u4E00\u6A21\u5757\u4E2D\uFF0C\u6211\u4EEC\u4ECB\u7ECD\u4E86 ",n(e.a,{href:"/general-html-performance",children:"HTML \u6027\u80FD\u7684\u4E00\u822C\u6CE8\u610F\u4E8B\u9879"}),"\uFF0C\u5982\u5C3D\u91CF\u51CF\u5C11\u91CD\u5B9A\u5411\u3001\u5982\u4F55\u6D4B\u91CF\u670D\u52A1\u5668\u54CD\u5E94\u65F6\u95F4\u3001\u538B\u7F29\u548C\u5176\u4ED6\u6982\u5FF5\u3002\u867D\u7136\u8FD9\u4E9B\u90FD\u662F\u5F71\u54CD\u6027\u80FD\u7684\u5173\u952E\u56E0\u7D20\uFF0C\u4F46\u7F51\u9875\u4E0D\u4EC5\u4EC5\u662F HTML\u3002"]}),`
`,n(e.p,{children:"\u9875\u9762\u52A0\u8F7D\u65F6\uFF0CHTML \u4E2D\u4F1A\u5F15\u7528\u8BB8\u591A\u8D44\u6E90\uFF0C\u8FD9\u4E9B\u8D44\u6E90\u901A\u8FC7 CSS \u63D0\u4F9B\u9875\u9762\u7684\u5916\u89C2\u548C\u5E03\u5C40\uFF0C\u5E76\u901A\u8FC7 JavaScript \u63D0\u4F9B\u9875\u9762\u7684\u4EA4\u4E92\u6027\u3002\u672C\u6A21\u5757\u5C06\u4ECB\u7ECD\u4E0E\u8FD9\u4E9B\u8D44\u6E90\u76F8\u5173\u7684\u4E00\u4E9B\u91CD\u8981\u6982\u5FF5\uFF0C\u4EE5\u53CA\u5B83\u4EEC\u5982\u4F55\u5F71\u54CD\u9875\u9762\u7684\u52A0\u8F7D\u65F6\u95F4\u3002"}),`
`,r(e.h2,{id:"render-blocking-\u6E32\u67D3\u963B\u585E",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#render-blocking-\u6E32\u67D3\u963B\u585E",children:"#"}),"Render blocking \u6E32\u67D3\u963B\u585E"]}),`
`,r(e.p,{children:["CSS \u662F\u4E00\u79CD",n(e.a,{href:"https://web.dev/articles/critical-rendering-path/render-blocking-css",target:"_blank",rel:"nofollow",children:"\u6E32\u67D3\u963B\u585E"}),"\u8D44\u6E90\uFF0C\u56E0\u4E3A\u5B83\u963B\u6B62\u6D4F\u89C8\u5668\u6E32\u67D3\u4EFB\u4F55\u5185\u5BB9\uFF0C\u76F4\u5230 ",n(e.a,{href:"https://developer.mozilla.org/docs/Web/API/CSS_Object_Model",target:"_blank",rel:"nofollow",children:"CSS \u5BF9\u8C61\u6A21\u578B\uFF08CSSOM\uFF09"}),"\u6784\u5EFA\u5B8C\u6210\u3002\u6D4F\u89C8\u5668\u963B\u6B62\u6E32\u67D3\u662F\u4E3A\u4E86\u9632\u6B62\u51FA\u73B0 ",n(e.a,{href:"https://en.wikipedia.org/wiki/Flash_of_unstyled_content",target:"_blank",rel:"nofollow",children:"Flash of Unstyled Content (FOUC)"}),"(\u65E0\u6837\u5F0F\u5185\u5BB9\u95EA\u70C1)\uFF0C\u4ECE\u7528\u6237\u4F53\u9A8C\u7684\u89D2\u5EA6\u6765\u770B\uFF0C\u8FD9\u662F\u4E0D\u53EF\u53D6\u7684\u3002"]}),`
`,n(e.p,{children:'\u5728\u524D\u9762\u7684\u89C6\u9891\u4E2D\uFF0C\u6709\u4E00\u4E2A\u7B80\u77ED\u7684 "FOUC"\uFF0C\u4F60\u53EF\u4EE5\u770B\u5230\u6CA1\u6709\u4EFB\u4F55\u6837\u5F0F\u7684\u9875\u9762\u3002\u968F\u540E\uFF0C\u5F53\u9875\u9762\u7684 CSS \u4ECE\u7F51\u7EDC\u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u6240\u6709\u6837\u5F0F\u90FD\u4F1A\u5E94\u7528\uFF0C\u9875\u9762\u7684\u65E0\u6837\u5F0F\u7248\u672C\u4F1A\u7ACB\u5373\u66FF\u6362\u4E3A\u6709\u6837\u5F0F\u7684\u7248\u672C\u3002'}),`
`,r(e.p,{children:[n(e.img,{src:"https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108002218.png",alt:"20231108002218"}),`
\u89C6\u9891\u5730\u5740\uFF1A`,n(e.a,{href:"https://web.dev/static/learn/performance/optimize-resource-loading/video/fouc.mp4",target:"_blank",rel:"nofollow",children:"https://web.dev/static/learn/performance/optimize-resource-loading/video/fouc.mp4"})]}),`
`,n(e.p,{children:"\u4E00\u822C\u6765\u8BF4\uFF0CFOUC \u901A\u5E38\u4E0D\u4F1A\u51FA\u73B0\uFF0C\u4F46\u4E86\u89E3\u8FD9\u4E00\u6982\u5FF5\u5F88\u91CD\u8981\uFF0C\u8FD9\u6837\u4F60\u5C31\u80FD\u77E5\u9053\u4E3A\u4EC0\u4E48\u6D4F\u89C8\u5668\u4F1A\u963B\u6B62\u9875\u9762\u7684\u6E32\u67D3\uFF0C\u76F4\u5230 CSS \u88AB\u4E0B\u8F7D\u5E76\u5E94\u7528\u5230\u9875\u9762\u4E0A\u3002\u6E32\u67D3\u963B\u585E\u5E76\u4E0D\u4E00\u5B9A\u4E0D\u53EF\u53D6\uFF0C\u4F46\u4F60\u786E\u5B9E\u5E0C\u671B\u901A\u8FC7\u4F18\u5316 CSS \u6765\u5C3D\u91CF\u7F29\u77ED\u5B83\u7684\u6301\u7EED\u65F6\u95F4\u3002"}),`
`,r(e.div,{className:"island-directive info",children:[n(e.p,{className:"island-directive-title",children:"\u7406\u89E3FOUC"}),n(e.div,{className:"island-directive-content",children:n(e.p,{children:"\u901A\u4FD7\u7684\u8BB2\uFF0CFlash of unstyled content\uFF08FOUC\uFF09\u5C31\u662F\u5728\u52A0\u8F7D\u5916\u90E8\u6837\u5F0F\u8868\u4E4B\u524D\uFF0C\u6D4F\u89C8\u5668\u6309\u9ED8\u8BA4\u6837\u5F0F\u663E\u793A\u4E86\u5185\u5BB9\uFF0C\u8FD9\u662F\u56E0\u4E3A\u6D4F\u89C8\u5668\u5728\u6240\u6709\u8D44\u6E90\u90FD\u4E0B\u8F7D\u597D\u524D\u5C31\u5F00\u59CB\u6E32\u67D3\u9875\u9762\u4E86\u3002\u4E00\u65E6\u5916\u90E8\u6837\u5F0F\u88AB\u52A0\u8F7D\uFF0C\u6D4F\u89C8\u5668\u5C31\u4F1A\u4FEE\u6B63\u6837\u5F0F\uFF0C\u4F46\u8FD9\u79CD\u4FEE\u6B63\u53EF\u80FD\u662F\u53EF\u89C1\u7684\uFF0C\u4E5F\u5C31\u662FFOUC\u3002"})})]}),`
`,r(e.h2,{id:"parser-blocking-\u89E3\u6790\u5668\u963B\u585E",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#parser-blocking-\u89E3\u6790\u5668\u963B\u585E",children:"#"}),"Parser blocking \u89E3\u6790\u5668\u963B\u585E"]}),`
`,r(e.p,{children:["\u89E3\u6790\u5668\u963B\u585E\u8D44\u6E90\u4F1A\u4E2D\u65AD HTML \u89E3\u6790\u5668\uFF0C\u4F8B\u5982\u6CA1\u6709 async \u6216 defer \u5C5E\u6027\u7684 ",n(e.code,{children:"<script>"})," \u5143\u7D20\u3002\u5F53\u89E3\u6790\u5668\u9047\u5230 ",n(e.code,{children:"<script>"})," \u5143\u7D20\u65F6\uFF0C\u6D4F\u89C8\u5668\u9700\u8981\u5148\u8BC4\u4F30\u5E76\u6267\u884C\u811A\u672C\uFF0C\u7136\u540E\u518D\u7EE7\u7EED\u89E3\u6790 HTML \u7684\u5176\u4F59\u90E8\u5206\u3002\u8FD9\u662F\u4E00\u79CD\u8BBE\u8BA1\uFF0C\u56E0\u4E3A\u811A\u672C\u53EF\u80FD\u4F1A\u5728\u6784\u5EFA DOM \u7684\u8FC7\u7A0B\u4E2D\u4FEE\u6539\u6216\u8BBF\u95EE DOM\u3002"]}),`
`,r(e.div,{className:"language-json line-numbers-mode",style:{backgroundColor:"#2e3440ff"},children:[n(e.button,{className:"copy"}),n(e.span,{className:"lang",children:"json"}),n(e.pre,{children:r(e.code,{className:"",children:[n(e.span,{className:"line",children:n(e.span,{style:{color:"#D8DEE9FF"},children:"<!-- This is a parser-blocking script: -->"})}),`
`,r(e.span,{className:"line",children:[n(e.span,{style:{color:"#D8DEE9FF"},children:"<script src="}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#A3BE8C"},children:"/script.js"}),n(e.span,{style:{color:"#ECEFF4"},children:'"'}),n(e.span,{style:{color:"#D8DEE9FF"},children:"><\/script>"})]}),`
`,n(e.span,{className:"line"})]})}),r(e.div,{className:"line-numbers-wrapper",children:[n(e.span,{className:"line-number",children:"1"}),n(e.span,{className:"line-number",children:"2"})]})]}),`
`,n(e.p,{children:"\u5728\u4F7F\u7528\u5916\u90E8 JavaScript \u6587\u4EF6\uFF08\u4E0D\u4F7F\u7528 async \u6216 defer\uFF09\u65F6\uFF0C\u89E3\u6790\u5668\u4ECE\u53D1\u73B0\u6587\u4EF6\u5F00\u59CB\u5C31\u4F1A\u88AB\u963B\u585E\uFF0C\u76F4\u5230\u6587\u4EF6\u88AB\u4E0B\u8F7D\u3001\u89E3\u6790\u548C\u6267\u884C\u3002\u4F7F\u7528\u5185\u8054 JavaScript \u65F6\uFF0C\u89E3\u6790\u5668\u540C\u6837\u4F1A\u88AB\u963B\u585E\uFF0C\u76F4\u5230\u5185\u8054\u811A\u672C\u88AB\u89E3\u6790\u548C\u6267\u884C\u3002"}),`
`,r(e.div,{className:"island-directive info",children:[n(e.p,{className:"island-directive-title",children:"INFO"}),n(e.div,{className:"island-directive-content",children:r(e.p,{children:["\u6CE8\u610F\uFF1A\u963B\u585E\u89E3\u6790\u5668\u7684 ",n(e.code,{children:"<script>"})," \u4E5F\u5FC5\u987B\u7B49\u5F85\u4EFB\u4F55\u6B63\u5728\u8FDB\u884C\u7684\u6E32\u67D3\u963B\u585ECSS\u8D44\u6E90\u5230\u8FBE\u5E76\u89E3\u6790\u540E\uFF0C\u6D4F\u89C8\u5668\u624D\u80FD\u6267\u884C\u5B83(\u5982\u679C",n(e.code,{children:'<link rel="stylesheet">'}),"\u8BF7\u6C42\u540E\u672A\u5F97\u5230\u54CD\u5E94\uFF0C\u5373\u4F7F\u540E\u9762\u7684",n(e.code,{children:"<script>"}),"\u4E0B\u8F7D\u5B8C\u6BD5\u4E86\u4E5F\u4E0D\u4F1A\u6267\u884C\u3002\u6240\u4EE5\u963B\u585E\u4E2D\u7684",n(e.code,{children:"<link>"}),"\u4F1A\u963B\u585E\u540E\u9762\u7684",n(e.code,{children:"<script>"}),"\u6267\u884C\uFF0C\u4F46\u4E0D\u4F1A\u963B\u585E\u4E0B\u8F7D\u3002\u4E0D\u592A\u660E\u767D\u7684\u4E00\u70B9\uFF1A\u6837\u5F0F\u7684\u89E3\u6790\u662F\u6307\u751F\u6210",n(e.code,{children:"CssOM"}),"\u8FD8\u662F\u6E32\u67D3\u5B8C\u6BD5\uFF1F)\u3002\u8FD9\u4E5F\u662F\u4E00\u79CD\u8BBE\u8BA1\uFF0C\u56E0\u4E3A\u811A\u672C\u53EF\u80FD\u4F1A\u8BBF\u95EE\u5728\u5448\u73B0\u963B\u585E\u6837\u5F0F\u8868\u4E2D\u58F0\u660E\u7684\u6837\u5F0F\uFF08\u4F8B\u5982\uFF0C\u901A\u8FC7\u4F7F\u7528 ",n(e.strong,{children:"element.getComputedStyle()"}),"\uFF09\u3002"]})})]}),`
`,r(e.h2,{id:"the-preload-scanner-\u9884\u52A0\u8F7D\u626B\u63CF\u5668",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#the-preload-scanner-\u9884\u52A0\u8F7D\u626B\u63CF\u5668",children:"#"}),"The preload scanner \u9884\u52A0\u8F7D\u626B\u63CF\u5668"]}),`
`,r(e.p,{children:["\u9884\u52A0\u8F7D\u626B\u63CF\u5668\u662F\u6D4F\u89C8\u5668\u7684\u4E00\u79CD\u4F18\u5316\u529F\u80FD\uFF0C\u5B83\u91C7\u7528\u4E8C\u7EA7 HTML \u89E3\u6790\u5668\u7684\u5F62\u5F0F\uFF0C\u53EF\u626B\u63CF\u539F\u59CB HTML \u54CD\u5E94\uFF0C\u4EE5\u4FBF\u5728\u4E3B HTML \u89E3\u6790\u5668\u53D1\u73B0\u8D44\u6E90\u4E4B\u524D\u627E\u5230\u5E76\u63A8\u6D4B\u6027\u5730\u83B7\u53D6\u8FD9\u4E9B\u8D44\u6E90\u3002\u4F8B\u5982\uFF0C\u9884\u52A0\u8F7D\u626B\u63CF\u5668\u5141\u8BB8\u6D4F\u89C8\u5668\u5F00\u59CB\u4E0B\u8F7D ",n(e.code,{children:"<img>"})," \u5143\u7D20\u4E2D\u6307\u5B9A\u7684\u8D44\u6E90\uFF0C\u5373\u4F7F HTML \u89E3\u6790\u5668\u5728\u83B7\u53D6\u548C\u5904\u7406 CSS \u548C JavaScript \u7B49\u8D44\u6E90\u65F6\u53D7\u963B\u3002(\u8FD9\u662F\u4E0B\u8F7D\uFF0C\u5E76\u975E\u6E32\u67D3)"]}),`
`,n(e.p,{children:"\u8981\u5229\u7528\u9884\u52A0\u8F7D\u626B\u63CF\u5668\uFF0C\u5173\u952E\u8D44\u6E90\u5E94\u5305\u542B\u5728\u670D\u52A1\u5668\u53D1\u9001\u7684 HTML \u6807\u8BB0\u4E2D\u3002\u9884\u52A0\u8F7D\u626B\u63CF\u5668\u65E0\u6CD5\u53D1\u73B0\u4EE5\u4E0B\u8D44\u6E90\u52A0\u8F7D\u6A21\u5F0F\uFF1A"}),`
`,r(e.ul,{children:[`
`,r(e.li,{children:["\u901A\u8FC7 CSS \u4F7F\u7528 ",n(e.code,{children:"background-image"})," \u5C5E\u6027\u52A0\u8F7D\u7684\u56FE\u7247\u3002\u8FD9\u4E9B\u56FE\u7247\u5F15\u7528\u4F4D\u4E8E CSS \u4E2D\uFF0C\u65E0\u6CD5\u88AB\u9884\u52A0\u8F7D\u626B\u63CF\u7A0B\u5E8F\u53D1\u73B0\u3002"]}),`
`,r(e.li,{children:["\u4EE5 ",n(e.code,{children:"<script>"})," \u5143\u7D20\u6807\u8BB0\u7684\u5F62\u5F0F\u52A8\u6001\u52A0\u8F7D\u7684\u811A\u672C\uFF0C\u8FD9\u4E9B\u6807\u8BB0\u4F7F\u7528 JavaScript \u6216\u4F7F\u7528\u52A8\u6001 import() \u52A0\u8F7D\u7684\u6A21\u5757\u6CE8\u5165\u5230 DOM \u4E2D\u3002"]}),`
`,n(e.li,{children:"\u4F7F\u7528 JavaScript \u5728\u5BA2\u6237\u7AEF\u6E32\u67D3\u7684 HTML\u3002\u6B64\u7C7B\u6807\u8BB0\u5305\u542B\u5728 JavaScript \u8D44\u6E90\u7684\u5B57\u7B26\u4E32\u4E2D\uFF0C\u9884\u52A0\u8F7D\u626B\u63CF\u7A0B\u5E8F\u65E0\u6CD5\u53D1\u73B0\u3002(js\u521B\u5EFA\u7684\u6807\u7B7E\u90FD\u4E0D\u884C)"}),`
`,n(e.li,{children:"CSS @import \u58F0\u660E\u3002"}),`
`]}),`
`,n(e.p,{children:"\u8FD9\u4E9B\u8D44\u6E90\u52A0\u8F7D\u6A21\u5F0F\u90FD\u662F\u540E\u671F\u53D1\u73B0\u7684\u8D44\u6E90\uFF0C\u56E0\u6B64\u65E0\u6CD5\u4ECE\u9884\u8F7D\u626B\u63CF\u5668\u4E2D\u83B7\u76CA\u3002\u8BF7\u5C3D\u53EF\u80FD\u907F\u514D\u4F7F\u7528\u5B83\u4EEC\u3002\u5982\u679C\u65E0\u6CD5\u907F\u514D\u8FD9\u4E9B\u6A21\u5F0F\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u9884\u52A0\u8F7D\u63D0\u793A\u6765\u907F\u514D\u8D44\u6E90\u53D1\u73B0\u5EF6\u8FDF\u3002"}),`
`,r(e.div,{className:"island-directive info",children:[n(e.p,{className:"island-directive-title",children:"INFO"}),n(e.div,{className:"island-directive-content",children:r(e.p,{children:["\u6CE8\uFF1A\u9884\u52A0\u8F7D\u8D44\u6E90\u63D0\u793A\u5C06\u5728\u4E0B\u4E00\u4E2A\u6709\u5173",n(e.a,{href:"https://web.dev/learn/performance/resource-hints",target:"_blank",rel:"nofollow",children:"\u8D44\u6E90\u63D0\u793A\u7684\u6A21\u5757"}),"\u4E2D\u4ECB\u7ECD\u3002"]})})]}),`
`,r(e.h2,{id:"css",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#css",children:"#"}),"CSS"]}),`
`,r(e.p,{children:["CSS \u51B3\u5B9A\u9875\u9762\u7684\u8868\u73B0\u5F62\u5F0F\u548C\u5E03\u5C40\u3002\u5982\u524D\u6240\u8FF0\uFF0C",n(e.strong,{children:"CSS \u662F\u4E00\u79CD\u6E32\u67D3\u963B\u585E\u8D44\u6E90"}),"\uFF0C\u56E0\u6B64\u4F18\u5316 CSS \u5BF9\u6574\u4E2A\u9875\u9762\u7684\u52A0\u8F7D\u65F6\u95F4\u6709\u76F8\u5F53\u5927\u7684\u5F71\u54CD\u3002"]})]})}function o(i={}){const{wrapper:e}=i.components||{};return e?n(e,Object.assign({},i,{children:n(c,i)})):c(i)}const h="2023/11/9 01:52:20",p=`# optimize-resource-loading \u4F18\u5316\u8D44\u6E90\u8D1F\u8F7D


\`metadata:\`

**\u94FE\u63A5:** https://web.dev/learn/performance/optimize-resource-loading

---

\u5728\u4E0A\u4E00\u6A21\u5757\u4E2D\uFF0C\u6211\u4EEC\u4ECB\u7ECD\u4E86 [HTML \u6027\u80FD\u7684\u4E00\u822C\u6CE8\u610F\u4E8B\u9879](./general-html-performance)\uFF0C\u5982\u5C3D\u91CF\u51CF\u5C11\u91CD\u5B9A\u5411\u3001\u5982\u4F55\u6D4B\u91CF\u670D\u52A1\u5668\u54CD\u5E94\u65F6\u95F4\u3001\u538B\u7F29\u548C\u5176\u4ED6\u6982\u5FF5\u3002\u867D\u7136\u8FD9\u4E9B\u90FD\u662F\u5F71\u54CD\u6027\u80FD\u7684\u5173\u952E\u56E0\u7D20\uFF0C\u4F46\u7F51\u9875\u4E0D\u4EC5\u4EC5\u662F HTML\u3002

\u9875\u9762\u52A0\u8F7D\u65F6\uFF0CHTML \u4E2D\u4F1A\u5F15\u7528\u8BB8\u591A\u8D44\u6E90\uFF0C\u8FD9\u4E9B\u8D44\u6E90\u901A\u8FC7 CSS \u63D0\u4F9B\u9875\u9762\u7684\u5916\u89C2\u548C\u5E03\u5C40\uFF0C\u5E76\u901A\u8FC7 JavaScript \u63D0\u4F9B\u9875\u9762\u7684\u4EA4\u4E92\u6027\u3002\u672C\u6A21\u5757\u5C06\u4ECB\u7ECD\u4E0E\u8FD9\u4E9B\u8D44\u6E90\u76F8\u5173\u7684\u4E00\u4E9B\u91CD\u8981\u6982\u5FF5\uFF0C\u4EE5\u53CA\u5B83\u4EEC\u5982\u4F55\u5F71\u54CD\u9875\u9762\u7684\u52A0\u8F7D\u65F6\u95F4\u3002

## Render blocking \u6E32\u67D3\u963B\u585E

CSS \u662F\u4E00\u79CD[\u6E32\u67D3\u963B\u585E](https://web.dev/articles/critical-rendering-path/render-blocking-css)\u8D44\u6E90\uFF0C\u56E0\u4E3A\u5B83\u963B\u6B62\u6D4F\u89C8\u5668\u6E32\u67D3\u4EFB\u4F55\u5185\u5BB9\uFF0C\u76F4\u5230 [CSS \u5BF9\u8C61\u6A21\u578B\uFF08CSSOM\uFF09](https://developer.mozilla.org/docs/Web/API/CSS_Object_Model)\u6784\u5EFA\u5B8C\u6210\u3002\u6D4F\u89C8\u5668\u963B\u6B62\u6E32\u67D3\u662F\u4E3A\u4E86\u9632\u6B62\u51FA\u73B0 [Flash of Unstyled Content (FOUC)](https://en.wikipedia.org/wiki/Flash_of_unstyled_content)(\u65E0\u6837\u5F0F\u5185\u5BB9\u95EA\u70C1)\uFF0C\u4ECE\u7528\u6237\u4F53\u9A8C\u7684\u89D2\u5EA6\u6765\u770B\uFF0C\u8FD9\u662F\u4E0D\u53EF\u53D6\u7684\u3002

\u5728\u524D\u9762\u7684\u89C6\u9891\u4E2D\uFF0C\u6709\u4E00\u4E2A\u7B80\u77ED\u7684 "FOUC"\uFF0C\u4F60\u53EF\u4EE5\u770B\u5230\u6CA1\u6709\u4EFB\u4F55\u6837\u5F0F\u7684\u9875\u9762\u3002\u968F\u540E\uFF0C\u5F53\u9875\u9762\u7684 CSS \u4ECE\u7F51\u7EDC\u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u6240\u6709\u6837\u5F0F\u90FD\u4F1A\u5E94\u7528\uFF0C\u9875\u9762\u7684\u65E0\u6837\u5F0F\u7248\u672C\u4F1A\u7ACB\u5373\u66FF\u6362\u4E3A\u6709\u6837\u5F0F\u7684\u7248\u672C\u3002

![20231108002218](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108002218.png)
\u89C6\u9891\u5730\u5740\uFF1Ahttps://web.dev/static/learn/performance/optimize-resource-loading/video/fouc.mp4


\u4E00\u822C\u6765\u8BF4\uFF0CFOUC \u901A\u5E38\u4E0D\u4F1A\u51FA\u73B0\uFF0C\u4F46\u4E86\u89E3\u8FD9\u4E00\u6982\u5FF5\u5F88\u91CD\u8981\uFF0C\u8FD9\u6837\u4F60\u5C31\u80FD\u77E5\u9053\u4E3A\u4EC0\u4E48\u6D4F\u89C8\u5668\u4F1A\u963B\u6B62\u9875\u9762\u7684\u6E32\u67D3\uFF0C\u76F4\u5230 CSS \u88AB\u4E0B\u8F7D\u5E76\u5E94\u7528\u5230\u9875\u9762\u4E0A\u3002\u6E32\u67D3\u963B\u585E\u5E76\u4E0D\u4E00\u5B9A\u4E0D\u53EF\u53D6\uFF0C\u4F46\u4F60\u786E\u5B9E\u5E0C\u671B\u901A\u8FC7\u4F18\u5316 CSS \u6765\u5C3D\u91CF\u7F29\u77ED\u5B83\u7684\u6301\u7EED\u65F6\u95F4\u3002

:::info{title=\u7406\u89E3FOUC}
\u901A\u4FD7\u7684\u8BB2\uFF0CFlash of unstyled content\uFF08FOUC\uFF09\u5C31\u662F\u5728\u52A0\u8F7D\u5916\u90E8\u6837\u5F0F\u8868\u4E4B\u524D\uFF0C\u6D4F\u89C8\u5668\u6309\u9ED8\u8BA4\u6837\u5F0F\u663E\u793A\u4E86\u5185\u5BB9\uFF0C\u8FD9\u662F\u56E0\u4E3A\u6D4F\u89C8\u5668\u5728\u6240\u6709\u8D44\u6E90\u90FD\u4E0B\u8F7D\u597D\u524D\u5C31\u5F00\u59CB\u6E32\u67D3\u9875\u9762\u4E86\u3002\u4E00\u65E6\u5916\u90E8\u6837\u5F0F\u88AB\u52A0\u8F7D\uFF0C\u6D4F\u89C8\u5668\u5C31\u4F1A\u4FEE\u6B63\u6837\u5F0F\uFF0C\u4F46\u8FD9\u79CD\u4FEE\u6B63\u53EF\u80FD\u662F\u53EF\u89C1\u7684\uFF0C\u4E5F\u5C31\u662FFOUC\u3002
:::

## Parser blocking \u89E3\u6790\u5668\u963B\u585E

\u89E3\u6790\u5668\u963B\u585E\u8D44\u6E90\u4F1A\u4E2D\u65AD HTML \u89E3\u6790\u5668\uFF0C\u4F8B\u5982\u6CA1\u6709 async \u6216 defer \u5C5E\u6027\u7684 \`<script>\` \u5143\u7D20\u3002\u5F53\u89E3\u6790\u5668\u9047\u5230 \`<script>\` \u5143\u7D20\u65F6\uFF0C\u6D4F\u89C8\u5668\u9700\u8981\u5148\u8BC4\u4F30\u5E76\u6267\u884C\u811A\u672C\uFF0C\u7136\u540E\u518D\u7EE7\u7EED\u89E3\u6790 HTML \u7684\u5176\u4F59\u90E8\u5206\u3002\u8FD9\u662F\u4E00\u79CD\u8BBE\u8BA1\uFF0C\u56E0\u4E3A\u811A\u672C\u53EF\u80FD\u4F1A\u5728\u6784\u5EFA DOM \u7684\u8FC7\u7A0B\u4E2D\u4FEE\u6539\u6216\u8BBF\u95EE DOM\u3002

\`\`\`json
<!-- This is a parser-blocking script: -->
<script src="/script.js"><\/script>
\`\`\`
\u5728\u4F7F\u7528\u5916\u90E8 JavaScript \u6587\u4EF6\uFF08\u4E0D\u4F7F\u7528 async \u6216 defer\uFF09\u65F6\uFF0C\u89E3\u6790\u5668\u4ECE\u53D1\u73B0\u6587\u4EF6\u5F00\u59CB\u5C31\u4F1A\u88AB\u963B\u585E\uFF0C\u76F4\u5230\u6587\u4EF6\u88AB\u4E0B\u8F7D\u3001\u89E3\u6790\u548C\u6267\u884C\u3002\u4F7F\u7528\u5185\u8054 JavaScript \u65F6\uFF0C\u89E3\u6790\u5668\u540C\u6837\u4F1A\u88AB\u963B\u585E\uFF0C\u76F4\u5230\u5185\u8054\u811A\u672C\u88AB\u89E3\u6790\u548C\u6267\u884C\u3002

:::info
\u6CE8\u610F\uFF1A\u963B\u585E\u89E3\u6790\u5668\u7684 \`<script>\` \u4E5F\u5FC5\u987B\u7B49\u5F85\u4EFB\u4F55\u6B63\u5728\u8FDB\u884C\u7684\u6E32\u67D3\u963B\u585ECSS\u8D44\u6E90\u5230\u8FBE\u5E76\u89E3\u6790\u540E\uFF0C\u6D4F\u89C8\u5668\u624D\u80FD\u6267\u884C\u5B83(\u5982\u679C\`<link rel="stylesheet">\`\u8BF7\u6C42\u540E\u672A\u5F97\u5230\u54CD\u5E94\uFF0C\u5373\u4F7F\u540E\u9762\u7684\`<script>\`\u4E0B\u8F7D\u5B8C\u6BD5\u4E86\u4E5F\u4E0D\u4F1A\u6267\u884C\u3002\u6240\u4EE5\u963B\u585E\u4E2D\u7684\`<link>\`\u4F1A\u963B\u585E\u540E\u9762\u7684\`<script>\`\u6267\u884C\uFF0C\u4F46\u4E0D\u4F1A\u963B\u585E\u4E0B\u8F7D\u3002\u4E0D\u592A\u660E\u767D\u7684\u4E00\u70B9\uFF1A\u6837\u5F0F\u7684\u89E3\u6790\u662F\u6307\u751F\u6210\`CssOM\`\u8FD8\u662F\u6E32\u67D3\u5B8C\u6BD5\uFF1F)\u3002\u8FD9\u4E5F\u662F\u4E00\u79CD\u8BBE\u8BA1\uFF0C\u56E0\u4E3A\u811A\u672C\u53EF\u80FD\u4F1A\u8BBF\u95EE\u5728\u5448\u73B0\u963B\u585E\u6837\u5F0F\u8868\u4E2D\u58F0\u660E\u7684\u6837\u5F0F\uFF08\u4F8B\u5982\uFF0C\u901A\u8FC7\u4F7F\u7528 **element.getComputedStyle()**\uFF09\u3002
:::

## The preload scanner \u9884\u52A0\u8F7D\u626B\u63CF\u5668

\u9884\u52A0\u8F7D\u626B\u63CF\u5668\u662F\u6D4F\u89C8\u5668\u7684\u4E00\u79CD\u4F18\u5316\u529F\u80FD\uFF0C\u5B83\u91C7\u7528\u4E8C\u7EA7 HTML \u89E3\u6790\u5668\u7684\u5F62\u5F0F\uFF0C\u53EF\u626B\u63CF\u539F\u59CB HTML \u54CD\u5E94\uFF0C\u4EE5\u4FBF\u5728\u4E3B HTML \u89E3\u6790\u5668\u53D1\u73B0\u8D44\u6E90\u4E4B\u524D\u627E\u5230\u5E76\u63A8\u6D4B\u6027\u5730\u83B7\u53D6\u8FD9\u4E9B\u8D44\u6E90\u3002\u4F8B\u5982\uFF0C\u9884\u52A0\u8F7D\u626B\u63CF\u5668\u5141\u8BB8\u6D4F\u89C8\u5668\u5F00\u59CB\u4E0B\u8F7D \`<img>\` \u5143\u7D20\u4E2D\u6307\u5B9A\u7684\u8D44\u6E90\uFF0C\u5373\u4F7F HTML \u89E3\u6790\u5668\u5728\u83B7\u53D6\u548C\u5904\u7406 CSS \u548C JavaScript \u7B49\u8D44\u6E90\u65F6\u53D7\u963B\u3002(\u8FD9\u662F\u4E0B\u8F7D\uFF0C\u5E76\u975E\u6E32\u67D3)

\u8981\u5229\u7528\u9884\u52A0\u8F7D\u626B\u63CF\u5668\uFF0C\u5173\u952E\u8D44\u6E90\u5E94\u5305\u542B\u5728\u670D\u52A1\u5668\u53D1\u9001\u7684 HTML \u6807\u8BB0\u4E2D\u3002\u9884\u52A0\u8F7D\u626B\u63CF\u5668\u65E0\u6CD5\u53D1\u73B0\u4EE5\u4E0B\u8D44\u6E90\u52A0\u8F7D\u6A21\u5F0F\uFF1A

- \u901A\u8FC7 CSS \u4F7F\u7528 \`background-image\` \u5C5E\u6027\u52A0\u8F7D\u7684\u56FE\u7247\u3002\u8FD9\u4E9B\u56FE\u7247\u5F15\u7528\u4F4D\u4E8E CSS \u4E2D\uFF0C\u65E0\u6CD5\u88AB\u9884\u52A0\u8F7D\u626B\u63CF\u7A0B\u5E8F\u53D1\u73B0\u3002
- \u4EE5 \`<script>\` \u5143\u7D20\u6807\u8BB0\u7684\u5F62\u5F0F\u52A8\u6001\u52A0\u8F7D\u7684\u811A\u672C\uFF0C\u8FD9\u4E9B\u6807\u8BB0\u4F7F\u7528 JavaScript \u6216\u4F7F\u7528\u52A8\u6001 import() \u52A0\u8F7D\u7684\u6A21\u5757\u6CE8\u5165\u5230 DOM \u4E2D\u3002
- \u4F7F\u7528 JavaScript \u5728\u5BA2\u6237\u7AEF\u6E32\u67D3\u7684 HTML\u3002\u6B64\u7C7B\u6807\u8BB0\u5305\u542B\u5728 JavaScript \u8D44\u6E90\u7684\u5B57\u7B26\u4E32\u4E2D\uFF0C\u9884\u52A0\u8F7D\u626B\u63CF\u7A0B\u5E8F\u65E0\u6CD5\u53D1\u73B0\u3002(js\u521B\u5EFA\u7684\u6807\u7B7E\u90FD\u4E0D\u884C)
- CSS @import \u58F0\u660E\u3002

\u8FD9\u4E9B\u8D44\u6E90\u52A0\u8F7D\u6A21\u5F0F\u90FD\u662F\u540E\u671F\u53D1\u73B0\u7684\u8D44\u6E90\uFF0C\u56E0\u6B64\u65E0\u6CD5\u4ECE\u9884\u8F7D\u626B\u63CF\u5668\u4E2D\u83B7\u76CA\u3002\u8BF7\u5C3D\u53EF\u80FD\u907F\u514D\u4F7F\u7528\u5B83\u4EEC\u3002\u5982\u679C\u65E0\u6CD5\u907F\u514D\u8FD9\u4E9B\u6A21\u5F0F\uFF0C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u9884\u52A0\u8F7D\u63D0\u793A\u6765\u907F\u514D\u8D44\u6E90\u53D1\u73B0\u5EF6\u8FDF\u3002

:::info
\u6CE8\uFF1A\u9884\u52A0\u8F7D\u8D44\u6E90\u63D0\u793A\u5C06\u5728\u4E0B\u4E00\u4E2A\u6709\u5173[\u8D44\u6E90\u63D0\u793A\u7684\u6A21\u5757](https://web.dev/learn/performance/resource-hints)\u4E2D\u4ECB\u7ECD\u3002
:::

## CSS
CSS \u51B3\u5B9A\u9875\u9762\u7684\u8868\u73B0\u5F62\u5F0F\u548C\u5E03\u5C40\u3002\u5982\u524D\u6240\u8FF0\uFF0C**CSS \u662F\u4E00\u79CD\u6E32\u67D3\u963B\u585E\u8D44\u6E90**\uFF0C\u56E0\u6B64\u4F18\u5316 CSS \u5BF9\u6574\u4E2A\u9875\u9762\u7684\u52A0\u8F7D\u65F6\u95F4\u6709\u76F8\u5F53\u5927\u7684\u5F71\u54CD\u3002



`;export{p as content,o as default,t as frontmatter,h as lastUpdatedTime,s as title,d as toc};
