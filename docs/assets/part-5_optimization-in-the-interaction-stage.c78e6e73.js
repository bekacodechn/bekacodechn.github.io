import{jsx as n,jsxs as t,Fragment as r}from"react/jsx-runtime";const c=void 0,h=[{id:"fps-and-lag-fps-\u548C\u5EF6\u8FDF",text:"FPS and lag (FPS \u548C\u5EF6\u8FDF)",depth:2},{id:"reflow-and-repaint-\u56DE\u6D41\u548C\u91CD\u7ED8",text:"Reflow and repaint (\u56DE\u6D41\u548C\u91CD\u7ED8)",depth:2},{id:"are-there-any-changes-that-dont-trigger-reflow-and-repaint-at-all--\u662F\u5426\u6709\u4EFB\u4F55\u66F4\u6539\u6839\u672C\u4E0D\u4F1A\u89E6\u53D1\u91CD\u6392\u548C\u91CD\u7ED8",text:"Are there any changes that don\u2019t trigger reflow and repaint at all?  (\u662F\u5426\u6709\u4EFB\u4F55\u66F4\u6539\u6839\u672C\u4E0D\u4F1A\u89E6\u53D1\u91CD\u6392\u548C\u91CD\u7ED8\uFF1F)",depth:2},{id:"optimization-in-the-interaction-stage-is-about-increasing-the-speed-of-frame-generation-\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u662F\u5173\u4E8E\u63D0\u9AD8\u5E27\u751F\u6210\u901F\u5EA6",text:"Optimization in the interaction stage is about increasing the speed of frame generation (\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u662F\u5173\u4E8E\u63D0\u9AD8\u5E27\u751F\u6210\u901F\u5EA6)",depth:2},{id:"reduce-the-length-of-time-executing-javascript--\u7F29\u77ED\u6267\u884C-javascript-\u7684\u65F6\u95F4\u957F\u5EA6",text:"Reduce the length of time executing JavaScript  (\u7F29\u77ED\u6267\u884C JavaScript \u7684\u65F6\u95F4\u957F\u5EA6)",depth:3},{id:"avoid-the-reflow-and-repaint-when-executing-javascript-\u907F\u514D\u5728\u6267\u884C-javascript-\u65F6\u91CD\u6392\u548C\u91CD\u7ED8",text:"Avoid the reflow and repaint when executing JavaScript (\u907F\u514D\u5728\u6267\u884C JavaScript \u65F6\u91CD\u6392\u548C\u91CD\u7ED8)",depth:3},{id:"using-css-animation-and-will-change-\u4F7F\u7528-css-\u52A8\u753B\u548Cwill-change",text:"Using CSS animation and \u201Cwill-change\u201D (\u4F7F\u7528 CSS \u52A8\u753B\u548C\u201Cwill-change\u201D)",depth:2}],s="References";function i(a){const e=Object.assign({h1:"h1",a:"a",p:"p",code:"code",strong:"strong",hr:"hr",h2:"h2",img:"img",ul:"ul",li:"li",br:"br",h3:"h3",div:"div"},a.components);return t(r,{children:[t(e.h1,{id:"\u6D4F\u89C8\u5668\u5982\u4F55\u4E00\u6B65\u4E00\u6B65\u5730\u5DE5\u4F5C--\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u7B2C-5-\u90E8\u5206",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u6D4F\u89C8\u5668\u5982\u4F55\u4E00\u6B65\u4E00\u6B65\u5730\u5DE5\u4F5C--\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u7B2C-5-\u90E8\u5206",children:"#"}),"\u6D4F\u89C8\u5668\u5982\u4F55\u4E00\u6B65\u4E00\u6B65\u5730\u5DE5\u4F5C \u2014 \u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\uFF08\u7B2C 5 \u90E8\u5206\uFF09"]}),`
`,n(e.p,{children:n(e.code,{children:"metadata:"})}),`
`,t(e.p,{children:[n(e.strong,{children:"\u539F\u6807\u9898:"})," How does browser work step by step [latest] \u2014 optimization in the interaction stage (part 5)"]}),`
`,t(e.p,{children:[n(e.strong,{children:"\u94FE\u63A5:"})," ",n(e.a,{href:"https://cabulous.medium.com/how-does-browser-work-in-2019-part-5-optimization-in-the-interaction-stage-66b53b8ec0ad",target:"_blank",rel:"nofollow",children:"https://cabulous.medium.com/how-does-browser-work-in-2019-part-5-optimization-in-the-interaction-stage-66b53b8ec0ad"})]}),`
`,t(e.p,{children:[n(e.strong,{children:"\u6587\u7AE0\u526F\u6807\u9898:"})," \u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\uFF08\u7B2C 5 \u90E8\u5206\uFF09"]}),`
`,n(e.hr,{}),`
`,n(e.p,{children:"\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u662F\u5173\u4E8E\u4F18\u5316\u5E27\u3002"}),`
`,n(e.p,{children:"\u4E0E\u9875\u9762\u4EA4\u4E92\u65F6\uFF0C\u7528\u6237\u4F1A\u89E6\u53D1\u4E8B\u4EF6\u3002\u4E00\u4E9B\u4E8B\u4EF6\u4F1A\u4FEE\u6539\u9875\u9762\u5E03\u5C40\u548C\u6837\u5F0F\u3002\u6839\u636E\u811A\u672C\u7684\u4E0D\u540C\uFF0C\u6D4F\u89C8\u5668\u53EF\u80FD\u9700\u8981\u591A\u6B21\u7ECF\u5386\u6E32\u67D3\u9636\u6BB5\uFF0C\u4EE5\u4E0D\u65AD\u5730\u5411\u6211\u4EEC\u7684\u5C4F\u5E55\u4EA4\u4ED8\u65B0\u7684\u4F4D\u56FE\u6216\u5408\u6210\u5E27\u3002"}),`
`,t(e.h2,{id:"fps-and-lag-fps-\u548C\u5EF6\u8FDF",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#fps-and-lag-fps-\u548C\u5EF6\u8FDF",children:"#"}),"FPS and lag (FPS \u548C\u5EF6\u8FDF)"]}),`
`,n(e.p,{children:"\u4EBA\u773C\u6700\u591A\u53EF\u4EE5\u770B\u5230\u6BCF\u79D2 1,000 \u5E27 \uFF08FPS\uFF09\u3002\u5728\u6162\u901F\u6216\u9759\u6001\u573A\u666F\u4E2D\uFF0C\u6211\u4EEC\u5F88\u5C11\u5206\u8FA8\u51FA\u8D85\u8FC7 30 FPS \u7684\u5DEE\u5F02\u3002\u4F46\u662F\uFF0C\u5B83\u5728\u52A8\u6001\u573A\u666F\u4E2D\u53D8\u5F97\u5F88\u660E\u663E\uFF0C\u4F8B\u5982\u73A9\u7B2C\u4E00\u4EBA\u79F0\u5C04\u51FB\u89C6\u9891\u6E38\u620F\u3002\u5982\u4ECA\uFF0C\u5927\u591A\u6570\u663E\u793A\u5668\u7684\u5237\u65B0\u7387\u4E3A 60 FPS \u6216 60 \u8D6B\u5179\u3002"}),`
`,n(e.p,{children:"\u7406\u60F3\u60C5\u51B5\u4E0B\uFF0C\u6D4F\u89C8\u5668\u9700\u8981\u5B8C\u6210\u6E32\u67D3\u9636\u6BB5\u5E76\u5728 1/60 \u79D2\u5185\u4EA4\u4ED8\u4E00\u5E27\u3002\u5373 16.67 \u6BEB\u79D2\u3002\u5982\u679C\u662F\u8FD9\u6837\uFF0C\u7528\u6237\u5C06\u770B\u5230\u6D41\u7545\u7684\u52A8\u753B\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u611F\u5230\u6EDE\u540E\u3002"}),`
`,n(e.p,{children:"\u5728\u4EA4\u4E92\u9636\u6BB5\uFF0C\u901A\u5E38\u901A\u8FC7\u6267\u884CJavaScript\u6765\u89E6\u53D1\u9875\u9762\u66F4\u65B0\u3002\u5927\u591A\u6570\u65F6\u5019\uFF0C\u5B83\u53EF\u80FD\u4F1A\u89E6\u53D1\u56DE\u6D41\u548C\u91CD\u65B0\u7ED8\u5236\u3002"}),`
`,t(e.h2,{id:"reflow-and-repaint-\u56DE\u6D41\u548C\u91CD\u7ED8",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#reflow-and-repaint-\u56DE\u6D41\u548C\u91CD\u7ED8",children:"#"}),"Reflow and repaint (\u56DE\u6D41\u548C\u91CD\u7ED8)"]}),`
`,n(e.p,{children:"\u5F53\u4E00\u884C JavaScript \u66F4\u6539\u5143\u7D20\u9AD8\u5EA6\u65F6\u4F1A\u53D1\u751F\u4EC0\u4E48\uFF1F"}),`
`,n(e.p,{children:"\u9AD8\u5EA6\u4FEE\u6539\u4E0D\u4F1A\u5F71\u54CD DOM \u6811\u3002\u76F8\u53CD\uFF0C\u5B83\u9700\u8981\u6837\u5F0F\u8BA1\u7B97\u3002"}),`
`,n(e.p,{children:n(e.img,{src:"https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108203608.png",alt:"20231108203608"})}),`
`,n(e.p,{children:"\u5728\u6837\u5F0F\u8BA1\u7B97\u7ED3\u675F\u65F6\uFF0C\u6E32\u67D3\u8FC7\u7A0B\u5C06\u9AD8\u5EA6\u53D8\u5316\u53CD\u6620\u5230\u5E03\u5C40\u9636\u6BB5\uFF0C\u4ECE\u800C\u5BFC\u81F4\u5143\u7D20\u51E0\u4F55\u4FE1\u606F\u7684\u8F6C\u6362\u3002\u56E0\u6B64\uFF0C\u9700\u8981\u751F\u6210\u5E03\u5C40\u6811\u3002"}),`
`,n(e.p,{children:"\u5E03\u5C40\u6811\u662F\u5176\u4F59\u9636\u6BB5\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u56E0\u6B64\u6E32\u67D3\u6D41\u7A0B\u9700\u8981\u7ECF\u5386\u6240\u6709\u6B65\u9AA4\u3002"}),`
`,n(e.p,{children:"\u6B64\u8FC7\u7A0B\u79F0\u4E3A\u56DE\u6D41\u3002"}),`
`,t(e.p,{children:["\u5728 JavaScript \u4E2D\u8C03\u7528\u65F6\uFF0C\u8BB8\u591A\u5C5E\u6027\u68C0\u67E5\u53EF\u80FD\u4F1A\u89E6\u53D1\u91CD\u6392\uFF0C\u4F8B\u5982\u201Celement.offsetLeft\u201D\u3002\u8FD9\u662F\u5B83\u4EEC\u7684",n(e.a,{href:"/chrome/how-web-browser-works/what-forces-layout-reflow",children:"\u5B8C\u6574\u5217\u8868"}),"\u3002"]}),`
`,n(e.p,{children:n(e.img,{src:"https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108212931.png",alt:"20231108212931"})}),`
`,n(e.p,{children:"\u91CD\u6392\u7684\u6700\u574F\u60C5\u51B5\u662F\u4FEE\u6539 DOM\u3002\u4F8B\u5982\u201Cdocument.body.appendChild\uFF08node\uFF09\u201D\u3002\u56DE\u6D41\u8FC7\u7A0B\u4ECE\u7B2C\u4E00\u9636\u6BB5\u5F00\u59CB\uFF0C\u6784\u5EFA DOM \u6811\u3002"}),`
`,n(e.p,{children:"\u5982\u4F55\u66F4\u6539\u5143\u7D20\u7684\u80CC\u666F\u989C\u8272\uFF1F"}),`
`,n(e.p,{children:n(e.img,{src:"https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108213013.png",alt:"20231108213013"})}),`
`,n(e.p,{children:"\u540C\u6837\uFF0C\u8BA9\u6211\u4EEC\u4ECE\u6837\u5F0F\u8BA1\u7B97\u5F00\u59CB\u3002\u65B0\u7684\u80CC\u666F\u989C\u8272\u4E0D\u4F1A\u4FEE\u6539\u5143\u7D20\u7684\u51E0\u4F55\u56FE\u5F62\u4FE1\u606F\uFF0C\u56E0\u6B64\u6E32\u67D3\u8FDB\u7A0B\u4F1A\u8DF3\u8FC7\u5B83\u3002\u5B83\u4E5F\u4E0D\u4F1A\u521B\u5EFA\u65B0\u56FE\u5C42\uFF0C\u56E0\u6B64\u8BA9\u6211\u4EEC\u8DF3\u8FC7\u56FE\u5C42\u9636\u6BB5\u3002\u5728\u7ED8\u5236\u9636\u6BB5\uFF0C\u6E32\u67D3\u8FDB\u7A0B\u9700\u8981\u751F\u6210\u65B0\u7684\u7ED8\u5236\u8BB0\u5F55\u4EE5\u53CD\u6620\u80CC\u666F\u989C\u8272\u66F4\u65B0\u3002\u7136\u540E\uFF0C\u5B83\u7ECF\u5386\u4E86\u5176\u4F59\u7684\u9636\u6BB5\u3002"}),`
`,n(e.p,{children:"\u6B64\u8FC7\u7A0B\u79F0\u4E3A\u91CD\u7ED8\u3002"}),`
`,n(e.p,{children:"\u91CD\u6392\u548C\u91CD\u7ED8\u90FD\u4F1A\u964D\u4F4E\u6E32\u67D3\u6027\u80FD\uFF0C\u539F\u56E0\u6709\u4E8C\uFF1A"}),`
`,t(e.ul,{children:[`
`,t(e.li,{children:["The reflow and repaint process is happening in the main thread, so it cannot take care of any events triggered by users\u2019 interaction. When it happens, the users feel lagging.",n(e.br,{}),`
`,"\u91CD\u6392\u548C\u91CD\u7ED8\u8FC7\u7A0B\u53D1\u751F\u5728\u4E3B\u7EBF\u7A0B\u4E2D\uFF0C\u56E0\u6B64\u5B83\u65E0\u6CD5\u5904\u7406\u7528\u6237\u4EA4\u4E92\u89E6\u53D1\u7684\u4EFB\u4F55\u4E8B\u4EF6\u3002\u5F53\u5B83\u53D1\u751F\u65F6\uFF0C\u7528\u6237\u4F1A\u611F\u5230\u6EDE\u540E\u3002"]}),`
`,n(e.li,{children:`computation process in the layout, layer, and paint phases are expensive.
\u91CD\u6392\u548C\u7ED8\u5236\u9636\u6BB5\u7684\u8BA1\u7B97\u8FC7\u7A0B\u975E\u5E38\u6602\u8D35\u3002`}),`
`]}),`
`,n(e.p,{children:"Since the repaint skips the layout and layer phases, it is a relatively better option than reflow."}),`
`,t(e.h2,{id:"are-there-any-changes-that-dont-trigger-reflow-and-repaint-at-all--\u662F\u5426\u6709\u4EFB\u4F55\u66F4\u6539\u6839\u672C\u4E0D\u4F1A\u89E6\u53D1\u91CD\u6392\u548C\u91CD\u7ED8",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#are-there-any-changes-that-dont-trigger-reflow-and-repaint-at-all--\u662F\u5426\u6709\u4EFB\u4F55\u66F4\u6539\u6839\u672C\u4E0D\u4F1A\u89E6\u53D1\u91CD\u6392\u548C\u91CD\u7ED8",children:"#"}),"Are there any changes that don\u2019t trigger reflow and repaint at all?  (\u662F\u5426\u6709\u4EFB\u4F55\u66F4\u6539\u6839\u672C\u4E0D\u4F1A\u89E6\u53D1\u91CD\u6392\u548C\u91CD\u7ED8\uFF1F)"]}),`
`,n(e.p,{children:"\u662F\u7684\u3002CSS\u52A8\u753B\u5C31\u662F\u4E00\u4E2A\u5F88\u597D\u7684\u4F8B\u5B50\u3002"}),`
`,n(e.p,{children:"A typical CSS animation uses a \u201Ctransform\u201D property. Modifying \u201Ctransform\u201D value skips the layout, layer, and paint phases, and starts with the tilling in the compositor thread(\u5408\u6210\u7EBF\u7A0B)."}),`
`,n(e.p,{children:"Without occupying the main thread, CSS animation doesn\u2019t block users\u2019 interaction. It is the reason that you still see smooth CSS animation even if the page freezes.(\u5728\u4E0D\u5360\u7528\u4E3B\u7EBF\u7A0B\u7684\u60C5\u51B5\u4E0B\uFF0CCSS\u52A8\u753B\u4E0D\u4F1A\u963B\u6B62\u7528\u6237\u7684\u4EA4\u4E92\u3002\u8FD9\u5C31\u662F\u4E3A\u4EC0\u4E48\u5373\u4F7F\u9875\u9762\u51BB\u7ED3\uFF0C\u60A8\u4ECD\u7136\u53EF\u4EE5\u770B\u5230\u6D41\u7545\u7684CSS\u52A8\u753B\u7684\u539F\u56E0\u3002)"}),`
`,t(e.h2,{id:"optimization-in-the-interaction-stage-is-about-increasing-the-speed-of-frame-generation-\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u662F\u5173\u4E8E\u63D0\u9AD8\u5E27\u751F\u6210\u901F\u5EA6",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#optimization-in-the-interaction-stage-is-about-increasing-the-speed-of-frame-generation-\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u662F\u5173\u4E8E\u63D0\u9AD8\u5E27\u751F\u6210\u901F\u5EA6",children:"#"}),"Optimization in the interaction stage is about increasing the speed of frame generation (\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u662F\u5173\u4E8E\u63D0\u9AD8\u5E27\u751F\u6210\u901F\u5EA6)"]}),`
`,n(e.p,{children:"JavaScript \u6267\u884C\u3001\u91CD\u6392\u548C\u91CD\u7ED8\u53EF\u80FD\u4F1A\u51CF\u6162\u5E27\u751F\u6210\u901F\u5EA6\u3002"}),`
`,n(e.p,{children:"\u6267\u884C\u65F6\uFF0CJavaScript \u5728\u4E3B\u7EBF\u7A0B\u4E2D\u8FD0\u884C\u3002\u8FD9\u91CC\u7684\u60F3\u6CD5\u662F\u5C3D\u53EF\u80FD\u5C11\u5730\u4F7F\u7528\u4E3B\u7EBF\u7A0B\u3002"}),`
`,t(e.h3,{id:"reduce-the-length-of-time-executing-javascript--\u7F29\u77ED\u6267\u884C-javascript-\u7684\u65F6\u95F4\u957F\u5EA6",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#reduce-the-length-of-time-executing-javascript--\u7F29\u77ED\u6267\u884C-javascript-\u7684\u65F6\u95F4\u957F\u5EA6",children:"#"}),"Reduce the length of time executing JavaScript  (\u7F29\u77ED\u6267\u884C JavaScript \u7684\u65F6\u95F4\u957F\u5EA6)"]}),`
`,n(e.p,{children:"\u4F8B\u5982\uFF0C\u4E00\u4E2A\u91CD\u8981\u7684\u51FD\u6570\u53EF\u80FD\u9700\u8981\u6570\u767E\u6BEB\u79D2\u624D\u80FD\u5B8C\u6210\u3002\u5B83\u4F1A\u963B\u585E\u4E3B\u7EBF\u7A0B\u5E76\u964D\u4F4E\u6027\u80FD\u3002"}),`
`,n(e.p,{children:"\u6211\u4EEC\u53EF\u4EE5\u5C06\u51FD\u6570\u5206\u6210\u8F83\u5C0F\u7684\u51FD\u6570\uFF0C\u56E0\u6B64\u6BCF\u4E2A\u51FD\u6570\u90FD\u4E0D\u4F1A\u82B1\u8D39\u5F88\u957F\u65F6\u95F4\u3002\u6D4F\u89C8\u5668\u6709\u52A9\u4E8E\u5728\u8FD0\u884C\u51FD\u6570\u65F6\u4F18\u5316\u4EFB\u52A1\u3002"}),`
`,n(e.p,{children:"Web Worker \u662F\u53E6\u4E00\u79CD\u9009\u62E9\u3002\u60A8\u53EF\u4EE5\u5728\u6E32\u67D3\u5668\u8FDB\u7A0B\u4E2D\u5C06\u5176\u4F5C\u4E3A\u72EC\u7ACB\u7EBF\u7A0B\u8FDB\u884C\u64CD\u4F5C\u3002\u5F53\u811A\u672C\u5728 Web Worker \u4E2D\u8FD0\u884C\u65F6\uFF0C\u4E3B\u7EBF\u7A0B\u662F\u7A7A\u95F2\u7684\u3002\u5982\u679C\u4E00\u6BB5 JavaScript \u6CA1\u6709\u8BBF\u95EE DOM \u548C\u6837\u5F0F\u8868\uFF0C\u60A8\u53EF\u4EE5\u5C06\u5176\u79FB\u52A8\u5230 Web Worker\u3002"}),`
`,t(e.h3,{id:"avoid-the-reflow-and-repaint-when-executing-javascript-\u907F\u514D\u5728\u6267\u884C-javascript-\u65F6\u91CD\u6392\u548C\u91CD\u7ED8",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#avoid-the-reflow-and-repaint-when-executing-javascript-\u907F\u514D\u5728\u6267\u884C-javascript-\u65F6\u91CD\u6392\u548C\u91CD\u7ED8",children:"#"}),"Avoid the reflow and repaint when executing JavaScript (\u907F\u514D\u5728\u6267\u884C JavaScript \u65F6\u91CD\u6392\u548C\u91CD\u7ED8)"]}),`
`,n(e.p,{children:"\u5F53 DOM \u6811\u88AB\u4FEE\u6539\u65F6\uFF0C\u6E32\u67D3\u5668\u8FDB\u7A0B\u5C06\u91CD\u65B0\u8BA1\u7B97\u6837\u5F0F\u548C\u5E03\u5C40\u3002\u901A\u5E38\uFF0C\u8BA1\u7B97\u5728\u53E6\u4E00\u4E2A\u4EFB\u52A1\u4E2D\u5F02\u6B65\u8FD0\u884C\u3002"}),`
`,n(e.p,{children:"\u8BA9\u6211\u4EEC\u770B\u4E00\u4E2A\u4F8B\u5B50\u3002"}),`
`,n(e.p,{children:n(e.img,{src:"https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214535.png",alt:"20231108214535"})}),`
`,n(e.p,{children:n(e.img,{src:"https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214543.png",alt:"20231108214543"})}),`
`,n(e.p,{children:"\u7B2C\u4E00\u4E2A\u4EFB\u52A1\u5B8C\u6210JavaScript\u6267\u884C\u3002\u7136\u540E\u53E6\u4E00\u4E2A\u4EFB\u52A1\u5F02\u6B65\u8FD0\u884C\u4EE5\u8BA1\u7B97\u6837\u5F0F\u548C\u5E03\u5C40\u3002"}),`
`,n(e.p,{children:"\u5982\u679C\u6211\u4EEC\u68C0\u67E5\u811A\u672C\u672B\u5C3E\u7684\u5143\u7D20\u9AD8\u5EA6\u4F1A\u600E\u6837\uFF1F"}),`
`,n(e.p,{children:n(e.img,{src:"https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214926.png",alt:"20231108214926"})}),`
`,n(e.p,{children:"\u5F53\u8BA1\u7B97\u5143\u7D20\u201CoffsetHeight\u201D\u65F6\uFF0C\u8BE5\u503C\u4ECD\u7136\u662F\u65E7\u7684\uFF0C\u56E0\u4E3A\u6E32\u67D3\u5668\u8FDB\u7A0B\u5C1A\u672A\u8BA1\u7B97\u6837\u5F0F\u548C\u5E03\u5C40\u3002\u6E32\u67D3\u5668\u8FDB\u7A0B\u540C\u6B65\u5F00\u59CB\u8BA1\u7B97\uFF0C\u4EE5\u4FBF\u5B83\u53EF\u4EE5\u63A5\u6536\u66F4\u65B0\u7684\u503C\u3002"}),`
`,t(e.div,{className:"island-directive tip",children:[n(e.p,{className:"island-directive-title",children:"\u539F\u6587"}),t(e.div,{className:"island-directive-content",children:[n(e.p,{children:"When evaluating the element \u201CoffsetHeight,\u201D the value is still the old one because the renderer process has not yet computed the style and layout. The renderer process starts the calculation synchronously so it can receive the updated value."}),t(e.p,{children:["\u610F\u601D\u662F\u56E0\u4E3A\u8BA1\u7B97\u6837\u5F0F\u548C\u5E03\u5C40\u662F\u5F02\u6B65\u6267\u884C\u7684\uFF0C\u6240\u4EE5\u83B7\u53D6",n(e.code,{children:"offsetHeight"}),"\u65F6\u662F\u65E7\u503C\uFF0C\u6240\u4EE5\u6E32\u67D3\u8FDB\u7A0B\u4E0D\u5F97\u5DF2\u540C\u6B65\u8BA1\u7B97\u4E86\u4E00\u904D\uFF1F"]})]})]}),`
`,n(e.p,{children:n(e.img,{src:"https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108215719.png",alt:"20231108215719"})}),`
`,n(e.p,{children:"\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u5F3A\u5236\u5728 JavaScript \u6267\u884C\u4EFB\u52A1\u4E2D\u8FDB\u884C\u6837\u5F0F\u548C\u5E03\u5C40\u8BA1\u7B97\u3002\u8BA1\u7B97\u4F1A\u963B\u585E\u4E3B\u7EBF\u7A0B\uFF0C\u76F4\u5230\u6267\u884C\u5B8C\u6210\u3002"}),`
`,n(e.p,{children:"\u66F4\u7CDF\u7CD5\u7684\u662F\uFF1F\u6211\u4EEC\u5728for\u5FAA\u73AF\u4E2D\u8BC4\u4F30\u5C5E\u6027\u3002\u4E0A\u4E00\u4E2A\u8FC7\u7A0B\u4F1A\u6301\u7EED\u53D1\u751F\uFF0C\u76F4\u5230\u6267\u884C\u7ED3\u675F\u3002\u5927\u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u9875\u9762\u4E0A\u4F1A\u51FA\u73B0\u660E\u663E\u7684\u5EF6\u8FDF\u3002"}),`
`,n(e.p,{children:"\u5728\u73B0\u5B9E\u751F\u6D3B\u4E2D\u7684\u9879\u76EE\u4E2D\uFF0C\u5F88\u96BE\u5B8C\u5168\u907F\u514D\u8BC4\u4F30\u5C5E\u6027\u3002\u4F46\u662F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C1D\u8BD5\u5C3D\u91CF\u51CF\u5C11\u4F7F\u7528\u91CF\u3002"}),`
`,t(e.h2,{id:"using-css-animation-and-will-change-\u4F7F\u7528-css-\u52A8\u753B\u548Cwill-change",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#using-css-animation-and-will-change-\u4F7F\u7528-css-\u52A8\u753B\u548Cwill-change",children:"#"}),"Using CSS animation and \u201Cwill-change\u201D (\u4F7F\u7528 CSS \u52A8\u753B\u548C\u201Cwill-change\u201D)"]}),`
`,n(e.p,{children:"CSS\u52A8\u753B\u6839\u672C\u4E0D\u4F7F\u7528\u4E3B\u7EBF\u7A0B\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u5C3D\u53EF\u80FD\u591A\u5730\u4F7F\u7528\u5B83\u3002"}),`
`,n(e.p,{children:"\u540C\u65F6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u201Cwill-change\u201D\u5C5E\u6027\u9644\u52A0\u5230\u52A8\u753B\u5143\u7D20\u4E0A\u3002\u5177\u6709\u201C\u610F\u5FD7\u66F4\u6539\u201D\u7684\u5143\u7D20\u5C06\u6E32\u67D3\u5728\u5C42\u6811\u4E2D\u7684\u72EC\u7ACB\u5C42\u4E0A\uFF0C\u4ECE\u800C\u8FDB\u4E00\u6B65\u4F18\u5316\u5408\u6210\u5668\u7EBF\u7A0B\u4E2D\u7684\u5E27\u751F\u6210\u3002"}),`
`,t(e.h1,{id:"references",children:[n(e.a,{className:"header-anchor","aria-hidden":"true",href:"#references",children:"#"}),"References"]}),`
`,t(e.ul,{children:[`
`,n(e.li,{children:t(e.a,{href:"https://developers.google.com/web/updates/2018/09/inside-browser-part3",target:"_blank",rel:"nofollow",children:["Inside look at modern web browser (part 3)",n(e.br,{}),`
`,"\u73B0\u4EE3 Web \u6D4F\u89C8\u5668\u5185\u90E8\u4ECB\u7ECD\uFF08\u7B2C 3 \u90E8\u5206\uFF09"]})}),`
`,n(e.li,{children:t(e.a,{href:"https://www.html5rocks.com/en/tutorials/speed/high-performance-animations/",target:"_blank",rel:"nofollow",children:["High Performance Animations \u2014 HTML5 Rocks",n(e.br,{}),`
`,"\u9AD8\u6027\u80FD\u52A8\u753B \u2014 HTML5 Rocks"]})}),`
`,n(e.li,{children:t(e.a,{href:"https://www.quora.com/What-is-the-highest-frame-rate-fps-that-can-be-recognized-by-human-perception-At-what-rate-do-we-essentially-stop-noticing-the-difference",target:"_blank",rel:"nofollow",children:["What is the highest frame rate (fps) that can be recognized by human perception?",n(e.br,{}),`
`,"\u4EBA\u7C7B\u611F\u77E5\u53EF\u4EE5\u8BC6\u522B\u7684\u6700\u9AD8\u5E27\u7387\uFF08fps\uFF09\u662F\u591A\u5C11\uFF1F"]})}),`
`]})]})}function l(a={}){const{wrapper:e}=a.components||{};return e?n(e,Object.assign({},a,{children:n(i,a)})):i(a)}const d="2023/11/9 01:52:20",p=`# \u6D4F\u89C8\u5668\u5982\u4F55\u4E00\u6B65\u4E00\u6B65\u5730\u5DE5\u4F5C \u2014 \u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\uFF08\u7B2C 5 \u90E8\u5206\uFF09

\`metadata:\`

**\u539F\u6807\u9898:** How does browser work step by step [latest] \u2014 optimization in the interaction stage (part 5)

**\u94FE\u63A5:** https://cabulous.medium.com/how-does-browser-work-in-2019-part-5-optimization-in-the-interaction-stage-66b53b8ec0ad

**\u6587\u7AE0\u526F\u6807\u9898:** \u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\uFF08\u7B2C 5 \u90E8\u5206\uFF09

---

\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u662F\u5173\u4E8E\u4F18\u5316\u5E27\u3002

\u4E0E\u9875\u9762\u4EA4\u4E92\u65F6\uFF0C\u7528\u6237\u4F1A\u89E6\u53D1\u4E8B\u4EF6\u3002\u4E00\u4E9B\u4E8B\u4EF6\u4F1A\u4FEE\u6539\u9875\u9762\u5E03\u5C40\u548C\u6837\u5F0F\u3002\u6839\u636E\u811A\u672C\u7684\u4E0D\u540C\uFF0C\u6D4F\u89C8\u5668\u53EF\u80FD\u9700\u8981\u591A\u6B21\u7ECF\u5386\u6E32\u67D3\u9636\u6BB5\uFF0C\u4EE5\u4E0D\u65AD\u5730\u5411\u6211\u4EEC\u7684\u5C4F\u5E55\u4EA4\u4ED8\u65B0\u7684\u4F4D\u56FE\u6216\u5408\u6210\u5E27\u3002

## FPS and lag (FPS \u548C\u5EF6\u8FDF)

\u4EBA\u773C\u6700\u591A\u53EF\u4EE5\u770B\u5230\u6BCF\u79D2 1,000 \u5E27 \uFF08FPS\uFF09\u3002\u5728\u6162\u901F\u6216\u9759\u6001\u573A\u666F\u4E2D\uFF0C\u6211\u4EEC\u5F88\u5C11\u5206\u8FA8\u51FA\u8D85\u8FC7 30 FPS \u7684\u5DEE\u5F02\u3002\u4F46\u662F\uFF0C\u5B83\u5728\u52A8\u6001\u573A\u666F\u4E2D\u53D8\u5F97\u5F88\u660E\u663E\uFF0C\u4F8B\u5982\u73A9\u7B2C\u4E00\u4EBA\u79F0\u5C04\u51FB\u89C6\u9891\u6E38\u620F\u3002\u5982\u4ECA\uFF0C\u5927\u591A\u6570\u663E\u793A\u5668\u7684\u5237\u65B0\u7387\u4E3A 60 FPS \u6216 60 \u8D6B\u5179\u3002

\u7406\u60F3\u60C5\u51B5\u4E0B\uFF0C\u6D4F\u89C8\u5668\u9700\u8981\u5B8C\u6210\u6E32\u67D3\u9636\u6BB5\u5E76\u5728 1/60 \u79D2\u5185\u4EA4\u4ED8\u4E00\u5E27\u3002\u5373 16.67 \u6BEB\u79D2\u3002\u5982\u679C\u662F\u8FD9\u6837\uFF0C\u7528\u6237\u5C06\u770B\u5230\u6D41\u7545\u7684\u52A8\u753B\uFF0C\u5E76\u4E14\u4E0D\u4F1A\u611F\u5230\u6EDE\u540E\u3002

\u5728\u4EA4\u4E92\u9636\u6BB5\uFF0C\u901A\u5E38\u901A\u8FC7\u6267\u884CJavaScript\u6765\u89E6\u53D1\u9875\u9762\u66F4\u65B0\u3002\u5927\u591A\u6570\u65F6\u5019\uFF0C\u5B83\u53EF\u80FD\u4F1A\u89E6\u53D1\u56DE\u6D41\u548C\u91CD\u65B0\u7ED8\u5236\u3002

## Reflow and repaint (\u56DE\u6D41\u548C\u91CD\u7ED8)

\u5F53\u4E00\u884C JavaScript \u66F4\u6539\u5143\u7D20\u9AD8\u5EA6\u65F6\u4F1A\u53D1\u751F\u4EC0\u4E48\uFF1F

\u9AD8\u5EA6\u4FEE\u6539\u4E0D\u4F1A\u5F71\u54CD DOM \u6811\u3002\u76F8\u53CD\uFF0C\u5B83\u9700\u8981\u6837\u5F0F\u8BA1\u7B97\u3002

![20231108203608](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108203608.png)

\u5728\u6837\u5F0F\u8BA1\u7B97\u7ED3\u675F\u65F6\uFF0C\u6E32\u67D3\u8FC7\u7A0B\u5C06\u9AD8\u5EA6\u53D8\u5316\u53CD\u6620\u5230\u5E03\u5C40\u9636\u6BB5\uFF0C\u4ECE\u800C\u5BFC\u81F4\u5143\u7D20\u51E0\u4F55\u4FE1\u606F\u7684\u8F6C\u6362\u3002\u56E0\u6B64\uFF0C\u9700\u8981\u751F\u6210\u5E03\u5C40\u6811\u3002

\u5E03\u5C40\u6811\u662F\u5176\u4F59\u9636\u6BB5\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u56E0\u6B64\u6E32\u67D3\u6D41\u7A0B\u9700\u8981\u7ECF\u5386\u6240\u6709\u6B65\u9AA4\u3002

\u6B64\u8FC7\u7A0B\u79F0\u4E3A\u56DE\u6D41\u3002 

\u5728 JavaScript \u4E2D\u8C03\u7528\u65F6\uFF0C\u8BB8\u591A\u5C5E\u6027\u68C0\u67E5\u53EF\u80FD\u4F1A\u89E6\u53D1\u91CD\u6392\uFF0C\u4F8B\u5982\u201Celement.offsetLeft\u201D\u3002\u8FD9\u662F\u5B83\u4EEC\u7684[\u5B8C\u6574\u5217\u8868](chrome/how-web-browser-works/what-forces-layout-reflow)\u3002

![20231108212931](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108212931.png)

\u91CD\u6392\u7684\u6700\u574F\u60C5\u51B5\u662F\u4FEE\u6539 DOM\u3002\u4F8B\u5982\u201Cdocument.body.appendChild\uFF08node\uFF09\u201D\u3002\u56DE\u6D41\u8FC7\u7A0B\u4ECE\u7B2C\u4E00\u9636\u6BB5\u5F00\u59CB\uFF0C\u6784\u5EFA DOM \u6811\u3002

\u5982\u4F55\u66F4\u6539\u5143\u7D20\u7684\u80CC\u666F\u989C\u8272\uFF1F

![20231108213013](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108213013.png)

\u540C\u6837\uFF0C\u8BA9\u6211\u4EEC\u4ECE\u6837\u5F0F\u8BA1\u7B97\u5F00\u59CB\u3002\u65B0\u7684\u80CC\u666F\u989C\u8272\u4E0D\u4F1A\u4FEE\u6539\u5143\u7D20\u7684\u51E0\u4F55\u56FE\u5F62\u4FE1\u606F\uFF0C\u56E0\u6B64\u6E32\u67D3\u8FDB\u7A0B\u4F1A\u8DF3\u8FC7\u5B83\u3002\u5B83\u4E5F\u4E0D\u4F1A\u521B\u5EFA\u65B0\u56FE\u5C42\uFF0C\u56E0\u6B64\u8BA9\u6211\u4EEC\u8DF3\u8FC7\u56FE\u5C42\u9636\u6BB5\u3002\u5728\u7ED8\u5236\u9636\u6BB5\uFF0C\u6E32\u67D3\u8FDB\u7A0B\u9700\u8981\u751F\u6210\u65B0\u7684\u7ED8\u5236\u8BB0\u5F55\u4EE5\u53CD\u6620\u80CC\u666F\u989C\u8272\u66F4\u65B0\u3002\u7136\u540E\uFF0C\u5B83\u7ECF\u5386\u4E86\u5176\u4F59\u7684\u9636\u6BB5\u3002

\u6B64\u8FC7\u7A0B\u79F0\u4E3A\u91CD\u7ED8\u3002

\u91CD\u6392\u548C\u91CD\u7ED8\u90FD\u4F1A\u964D\u4F4E\u6E32\u67D3\u6027\u80FD\uFF0C\u539F\u56E0\u6709\u4E8C\uFF1A

- The reflow and repaint process is happening in the main thread, so it cannot take care of any events triggered by users\u2019 interaction. When it happens, the users feel lagging.  
\u91CD\u6392\u548C\u91CD\u7ED8\u8FC7\u7A0B\u53D1\u751F\u5728\u4E3B\u7EBF\u7A0B\u4E2D\uFF0C\u56E0\u6B64\u5B83\u65E0\u6CD5\u5904\u7406\u7528\u6237\u4EA4\u4E92\u89E6\u53D1\u7684\u4EFB\u4F55\u4E8B\u4EF6\u3002\u5F53\u5B83\u53D1\u751F\u65F6\uFF0C\u7528\u6237\u4F1A\u611F\u5230\u6EDE\u540E\u3002
- computation process in the layout, layer, and paint phases are expensive.
  \u91CD\u6392\u548C\u7ED8\u5236\u9636\u6BB5\u7684\u8BA1\u7B97\u8FC7\u7A0B\u975E\u5E38\u6602\u8D35\u3002

Since the repaint skips the layout and layer phases, it is a relatively better option than reflow.

## Are there any changes that don\u2019t trigger reflow and repaint at all?  (\u662F\u5426\u6709\u4EFB\u4F55\u66F4\u6539\u6839\u672C\u4E0D\u4F1A\u89E6\u53D1\u91CD\u6392\u548C\u91CD\u7ED8\uFF1F)

\u662F\u7684\u3002CSS\u52A8\u753B\u5C31\u662F\u4E00\u4E2A\u5F88\u597D\u7684\u4F8B\u5B50\u3002

A typical CSS animation uses a \u201Ctransform\u201D property. Modifying \u201Ctransform\u201D value skips the layout, layer, and paint phases, and starts with the tilling in the compositor thread(\u5408\u6210\u7EBF\u7A0B).

Without occupying the main thread, CSS animation doesn\u2019t block users\u2019 interaction. It is the reason that you still see smooth CSS animation even if the page freezes.(\u5728\u4E0D\u5360\u7528\u4E3B\u7EBF\u7A0B\u7684\u60C5\u51B5\u4E0B\uFF0CCSS\u52A8\u753B\u4E0D\u4F1A\u963B\u6B62\u7528\u6237\u7684\u4EA4\u4E92\u3002\u8FD9\u5C31\u662F\u4E3A\u4EC0\u4E48\u5373\u4F7F\u9875\u9762\u51BB\u7ED3\uFF0C\u60A8\u4ECD\u7136\u53EF\u4EE5\u770B\u5230\u6D41\u7545\u7684CSS\u52A8\u753B\u7684\u539F\u56E0\u3002)

## Optimization in the interaction stage is about increasing the speed of frame generation (\u4EA4\u4E92\u9636\u6BB5\u7684\u4F18\u5316\u662F\u5173\u4E8E\u63D0\u9AD8\u5E27\u751F\u6210\u901F\u5EA6)

JavaScript \u6267\u884C\u3001\u91CD\u6392\u548C\u91CD\u7ED8\u53EF\u80FD\u4F1A\u51CF\u6162\u5E27\u751F\u6210\u901F\u5EA6\u3002

\u6267\u884C\u65F6\uFF0CJavaScript \u5728\u4E3B\u7EBF\u7A0B\u4E2D\u8FD0\u884C\u3002\u8FD9\u91CC\u7684\u60F3\u6CD5\u662F\u5C3D\u53EF\u80FD\u5C11\u5730\u4F7F\u7528\u4E3B\u7EBF\u7A0B\u3002

### Reduce the length of time executing JavaScript  (\u7F29\u77ED\u6267\u884C JavaScript \u7684\u65F6\u95F4\u957F\u5EA6)

\u4F8B\u5982\uFF0C\u4E00\u4E2A\u91CD\u8981\u7684\u51FD\u6570\u53EF\u80FD\u9700\u8981\u6570\u767E\u6BEB\u79D2\u624D\u80FD\u5B8C\u6210\u3002\u5B83\u4F1A\u963B\u585E\u4E3B\u7EBF\u7A0B\u5E76\u964D\u4F4E\u6027\u80FD\u3002

\u6211\u4EEC\u53EF\u4EE5\u5C06\u51FD\u6570\u5206\u6210\u8F83\u5C0F\u7684\u51FD\u6570\uFF0C\u56E0\u6B64\u6BCF\u4E2A\u51FD\u6570\u90FD\u4E0D\u4F1A\u82B1\u8D39\u5F88\u957F\u65F6\u95F4\u3002\u6D4F\u89C8\u5668\u6709\u52A9\u4E8E\u5728\u8FD0\u884C\u51FD\u6570\u65F6\u4F18\u5316\u4EFB\u52A1\u3002

Web Worker \u662F\u53E6\u4E00\u79CD\u9009\u62E9\u3002\u60A8\u53EF\u4EE5\u5728\u6E32\u67D3\u5668\u8FDB\u7A0B\u4E2D\u5C06\u5176\u4F5C\u4E3A\u72EC\u7ACB\u7EBF\u7A0B\u8FDB\u884C\u64CD\u4F5C\u3002\u5F53\u811A\u672C\u5728 Web Worker \u4E2D\u8FD0\u884C\u65F6\uFF0C\u4E3B\u7EBF\u7A0B\u662F\u7A7A\u95F2\u7684\u3002\u5982\u679C\u4E00\u6BB5 JavaScript \u6CA1\u6709\u8BBF\u95EE DOM \u548C\u6837\u5F0F\u8868\uFF0C\u60A8\u53EF\u4EE5\u5C06\u5176\u79FB\u52A8\u5230 Web Worker\u3002

### Avoid the reflow and repaint when executing JavaScript (\u907F\u514D\u5728\u6267\u884C JavaScript \u65F6\u91CD\u6392\u548C\u91CD\u7ED8)

\u5F53 DOM \u6811\u88AB\u4FEE\u6539\u65F6\uFF0C\u6E32\u67D3\u5668\u8FDB\u7A0B\u5C06\u91CD\u65B0\u8BA1\u7B97\u6837\u5F0F\u548C\u5E03\u5C40\u3002\u901A\u5E38\uFF0C\u8BA1\u7B97\u5728\u53E6\u4E00\u4E2A\u4EFB\u52A1\u4E2D\u5F02\u6B65\u8FD0\u884C\u3002

\u8BA9\u6211\u4EEC\u770B\u4E00\u4E2A\u4F8B\u5B50\u3002

![20231108214535](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214535.png)

![20231108214543](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214543.png)

\u7B2C\u4E00\u4E2A\u4EFB\u52A1\u5B8C\u6210JavaScript\u6267\u884C\u3002\u7136\u540E\u53E6\u4E00\u4E2A\u4EFB\u52A1\u5F02\u6B65\u8FD0\u884C\u4EE5\u8BA1\u7B97\u6837\u5F0F\u548C\u5E03\u5C40\u3002

\u5982\u679C\u6211\u4EEC\u68C0\u67E5\u811A\u672C\u672B\u5C3E\u7684\u5143\u7D20\u9AD8\u5EA6\u4F1A\u600E\u6837\uFF1F

![20231108214926](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214926.png)

\u5F53\u8BA1\u7B97\u5143\u7D20\u201CoffsetHeight\u201D\u65F6\uFF0C\u8BE5\u503C\u4ECD\u7136\u662F\u65E7\u7684\uFF0C\u56E0\u4E3A\u6E32\u67D3\u5668\u8FDB\u7A0B\u5C1A\u672A\u8BA1\u7B97\u6837\u5F0F\u548C\u5E03\u5C40\u3002\u6E32\u67D3\u5668\u8FDB\u7A0B\u540C\u6B65\u5F00\u59CB\u8BA1\u7B97\uFF0C\u4EE5\u4FBF\u5B83\u53EF\u4EE5\u63A5\u6536\u66F4\u65B0\u7684\u503C\u3002

:::tip{title=\u539F\u6587}
When evaluating the element \u201CoffsetHeight,\u201D the value is still the old one because the renderer process has not yet computed the style and layout. The renderer process starts the calculation synchronously so it can receive the updated value.

\u610F\u601D\u662F\u56E0\u4E3A\u8BA1\u7B97\u6837\u5F0F\u548C\u5E03\u5C40\u662F\u5F02\u6B65\u6267\u884C\u7684\uFF0C\u6240\u4EE5\u83B7\u53D6\`offsetHeight\`\u65F6\u662F\u65E7\u503C\uFF0C\u6240\u4EE5\u6E32\u67D3\u8FDB\u7A0B\u4E0D\u5F97\u5DF2\u540C\u6B65\u8BA1\u7B97\u4E86\u4E00\u904D\uFF1F
:::

![20231108215719](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108215719.png)

\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u5F3A\u5236\u5728 JavaScript \u6267\u884C\u4EFB\u52A1\u4E2D\u8FDB\u884C\u6837\u5F0F\u548C\u5E03\u5C40\u8BA1\u7B97\u3002\u8BA1\u7B97\u4F1A\u963B\u585E\u4E3B\u7EBF\u7A0B\uFF0C\u76F4\u5230\u6267\u884C\u5B8C\u6210\u3002

\u66F4\u7CDF\u7CD5\u7684\u662F\uFF1F\u6211\u4EEC\u5728for\u5FAA\u73AF\u4E2D\u8BC4\u4F30\u5C5E\u6027\u3002\u4E0A\u4E00\u4E2A\u8FC7\u7A0B\u4F1A\u6301\u7EED\u53D1\u751F\uFF0C\u76F4\u5230\u6267\u884C\u7ED3\u675F\u3002\u5927\u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u9875\u9762\u4E0A\u4F1A\u51FA\u73B0\u660E\u663E\u7684\u5EF6\u8FDF\u3002

\u5728\u73B0\u5B9E\u751F\u6D3B\u4E2D\u7684\u9879\u76EE\u4E2D\uFF0C\u5F88\u96BE\u5B8C\u5168\u907F\u514D\u8BC4\u4F30\u5C5E\u6027\u3002\u4F46\u662F\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C1D\u8BD5\u5C3D\u91CF\u51CF\u5C11\u4F7F\u7528\u91CF\u3002

## Using CSS animation and \u201Cwill-change\u201D (\u4F7F\u7528 CSS \u52A8\u753B\u548C\u201Cwill-change\u201D)

CSS\u52A8\u753B\u6839\u672C\u4E0D\u4F7F\u7528\u4E3B\u7EBF\u7A0B\uFF0C\u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u5C3D\u53EF\u80FD\u591A\u5730\u4F7F\u7528\u5B83\u3002

\u540C\u65F6\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5C06\u201Cwill-change\u201D\u5C5E\u6027\u9644\u52A0\u5230\u52A8\u753B\u5143\u7D20\u4E0A\u3002\u5177\u6709\u201C\u610F\u5FD7\u66F4\u6539\u201D\u7684\u5143\u7D20\u5C06\u6E32\u67D3\u5728\u5C42\u6811\u4E2D\u7684\u72EC\u7ACB\u5C42\u4E0A\uFF0C\u4ECE\u800C\u8FDB\u4E00\u6B65\u4F18\u5316\u5408\u6210\u5668\u7EBF\u7A0B\u4E2D\u7684\u5E27\u751F\u6210\u3002

# References

*   [Inside look at modern web browser (part 3)  
    \u73B0\u4EE3 Web \u6D4F\u89C8\u5668\u5185\u90E8\u4ECB\u7ECD\uFF08\u7B2C 3 \u90E8\u5206\uFF09](https://developers.google.com/web/updates/2018/09/inside-browser-part3)
*   [High Performance Animations \u2014 HTML5 Rocks  
    \u9AD8\u6027\u80FD\u52A8\u753B \u2014 HTML5 Rocks](https://www.html5rocks.com/en/tutorials/speed/high-performance-animations/)
*   [What is the highest frame rate (fps) that can be recognized by human perception?  
    \u4EBA\u7C7B\u611F\u77E5\u53EF\u4EE5\u8BC6\u522B\u7684\u6700\u9AD8\u5E27\u7387\uFF08fps\uFF09\u662F\u591A\u5C11\uFF1F](https://www.quora.com/What-is-the-highest-frame-rate-fps-that-can-be-recognized-by-human-perception-At-what-rate-do-we-essentially-stop-noticing-the-difference)






































`;export{p as content,l as default,c as frontmatter,d as lastUpdatedTime,s as title,h as toc};
