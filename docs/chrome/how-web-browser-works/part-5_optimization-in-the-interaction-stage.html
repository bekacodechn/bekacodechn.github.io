<!DOCTYPE html>
  <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <link rel="icon" href="" type="image/svg+xml"></link>
      <script  id="check-dark-light">
        ;(() => {
          const saved = localStorage.getItem('island-theme-appearance')
          const prefereDark = window.matchMedia('(prefers-color-scheme: dark)').matches
          if (!saved || saved === 'auto' ? prefereDark : saved === 'dark') {
            document.documentElement.classList.add('dark')
          }
        })()
      </script>
      <title data-rh="true">References</title>
      <meta data-rh="true" name="description" content="Island"/>
      
      
      <script defer src='https://ga.jspm.io/npm:es-module-shims@1.6.0/dist/es-module-shims.js'></script>
      <script type="importmap">
        {
          "imports": {
            "react": "/react.js","react-dom": "/react-dom.js","react-dom/client": "/react-dom_client.js","react/jsx-runtime": "/react_jsx-runtime.js"
          }
        }
      </script>

      <link rel="stylesheet" href="/assets/style.71d86141.css">

    </head>
    <body>
      <div id="root"><div style="height:100%"><header relative="" z="4" fixed="md:~" class="top-0 left-0" w="100%"><div relative="" p="l-8 sm:x-8" transition="background-color duration-500" class="divider-bottom md:border-b-transparent lg:border-b-transparent" nav-h="mobile lg:desktop"><div flex="" justify="between" m="0 auto" nav-h="mobile lg:desktop" class="_container_1ic07_52  _has-sidebar_1ic07_16"><div border="border t-0 b-1 border-solid transparent" class="_nav-bar-title_1ic07_16"><a href="/" w="100%" h="100%" text="1rem" font="semibold" transition="opacity duration-300" hover="opacity-60" class="flex items-center"><span>bekaçš„åšå®¢</span></a></div><div class="_content_1ic07_24" flex="~ 1" justify="end" items-center=""><div class="search" flex="sm:1" pl="sm:8"><div flex="" items-center="~" relative="" mr="2" font="semibold"><svg width="32" height="32" viewBox="0 0 32 32" w="5" h="5" fill="currentColor"><path fill="#888888" d="m29 27.586l-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9a9.01 9.01 0 0 1-9-9Z"></path></svg><input disabled="" cursor="text focus:auto" placeholder="Search" height="8" border="none" type="text" text="sm" p="t-0 r-2 b-0 l-2" transition="all duration-200 ease" class="rounded-sm _searchInput_y03a3_1 " aria-label="Search" autoComplete="off"/><div m="r-3" w="10" h="6" p="x-1.5" rounded="md" border="1px solid gray-light-3" text="xs gray-light-3" flex="~" items-center="~" justify="around" class="_searchCommand_y03a3_7"><span>âŒ˜</span><span>K</span></div></div></div><div class="_rightNav_1ic07_42"><div class="menu"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Article</a></div><div text="sm" font="medium" m="x-3" class="text-brand"><a class="_link_r3fql_1 " target="" cursor="pointer">Chrome</a></div><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Design-pattern</a></div><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Open-source</a></div><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Promise</a></div><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Webpack</a></div></div><div class="appearance" before="menu-item-before" display="none sm:flex" items-center="center"><button class="_switch_1tqe3_1 undefined" id="" type="button" role="switch"><span class="_check_1tqe3_17"><span class="_icon_1tqe3_34"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="_sun_8e60k_1"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="_moon_8e60k_5"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div></div><button class=" _navHamburger_14nz8_1"><span class="_container_14nz8_14"><span class="_top_14nz8_21"></span><span class="_middle_14nz8_27"></span><span class="_bottom_14nz8_33"></span></span></button><div class="_navScreen_1mkpq_1 " id="navScreen"><div class="_container_1mkpq_21"><div class="_navMenu_1mkpq_27"><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Article</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class="text-brand"><a class="_link_r3fql_1 " target="" cursor="pointer">Chrome</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Design-pattern</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Open-source</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Promise</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Webpack</a></div></div></div><div class="_socialAndAppearance_1mkpq_50" flex="~" justify="center" items-center="center"><div class="items-center appearance pa-2 _navAppearance_1mkpq_46" flex="~" justify="center"><button class="_switch_1tqe3_1 undefined" id="" type="button" role="switch"><span class="_check_1tqe3_17"><span class="_icon_1tqe3_34"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="_sun_8e60k_1"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="_moon_8e60k_5"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div></div></div></div></div></div></div></header><section style="padding-top:var(--island-nav-height)"><div p="t-0 x-6 b-24 sm:6" class="_docLayout_5cssi_8"><div class="_localNav_ncerp_1"><button flex="center" class="_menu_ncerp_16"><div text="md" mr="2" class="i-carbon:menu"></div><span text="md ">Menu</span></button></div><aside class="_sidebar_iav29_1 "><nav><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">Chorme lala</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:28px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„æ•ˆæœæŒ‡æ ‡</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">æµè§ˆå™¨å·¥ä½œåŸç†</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:168px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">é«˜çº§ä½“ç³»ç»“æ„ï¼ˆç¬¬ 1 éƒ¨åˆ†ï¼‰</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">å¯¼èˆªé˜¶æ®µï¼ˆç¬¬ 2 éƒ¨åˆ†ï¼‰</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">æ¸²æŸ“é˜¶æ®µï¼ˆç¬¬ 3 éƒ¨åˆ†ï¼‰</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">åŠ è½½é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 4 éƒ¨åˆ†ï¼‰</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-brand"><a class="_link_r3fql_1 " target="" cursor="pointer">äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 5 éƒ¨åˆ†ï¼‰</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">ä»€ä¹ˆå¼ºåˆ¶äº†é‡æ’/å›æµ</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">Html</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:84px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Metadata</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">html</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer"># æ–‡æ¡£ç»“æ„</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">å…³é”®æŒ‡æ ‡</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:84px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">First Contentful Paint (FCP)</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Largest Contentful Paint (LCP)</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Time to First Byte (TTFB)</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">æ€§èƒ½</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:140px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">ä¸€èˆ¬ HTML æ€§èƒ½æ³¨æ„äº‹é¡¹</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">optimize-resource-loading ä¼˜åŒ–èµ„æºè´Ÿè½½</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">asdf</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Welcome to Lean performance</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">é€Ÿåº¦ä¸ºä»€ä¹ˆé‡è¦</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">æ€§èƒ½æŠ€å·§</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:448px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Web ä¸Šçš„å¤šè¿›ç¨‹ï¼šæµè§ˆå™¨è¿›ç¨‹æ¨¡å‹</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Browser Rendering Pipeline</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">é€šè¿‡ç«ç„°å›¾æ‰¾åˆ°æœ‰é—®é¢˜çš„ä»£ç </a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">å¦‚ä½•æ”¶é›† Web æ€§èƒ½è·Ÿè¸ª</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">äº‹ä»¶å¾ªç¯åŸºç¡€çŸ¥è¯†</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">æ·±åº¦è®²è§£ç«ç„°å›¾ ğŸ”¥ğŸ”¥</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">é•¿ä»»åŠ¡ï¼šå®ƒä»¬æ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆåº”è¯¥é¿å…å®ƒä»¬</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">performance æŸ¥çœ‹ä¸»çº¿ç¨‹ï¼ˆé¢œè‰²å«ä¹‰ï¼‰</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">æ£€æµ‹æµè§ˆå™¨ä½•æ—¶åœ¨ JavaScript ä¸­ç»˜åˆ¶Frame</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">å¦‚ä½•é˜…è¯» Chromium Profiler</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">ä½¿ç”¨ Chromium ç½‘ç»œæ ‡ç­¾é¡µè·å–æ€§èƒ½è¯¦æƒ…</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">ä½¿ç”¨æ€§èƒ½æ—¶åºæ ‡è®°è¿›è¡ŒğŸ“æµ‹é‡</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Chromium F12 æ€§èƒ½åˆ†æå™¨çš„åŸºæœ¬æ¦‚è¿°</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">ä¼ è¾“å¤§å° vs èµ„æºå¤§å°</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">å¦‚ä½•é˜…è¯»ç«ç„°å›¾ ğŸ”¥</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">è¯†åˆ« Web åº”ç”¨ä¸­çš„æœªå‹ç¼©èµ„æº</a></div></div></div></div></section></nav></aside><div flex="~ 1 shrink-0" m="x-auto" class="_content_5cssi_2"><div m="x-auto" flex="~ col" class="max-w-100%"><div relative="~" m="x-auto" p="l-2" class="w-100% md:max-w-712px lg:min-w-640px "><div class="island-doc "><!--$--><h1 id="æµè§ˆå™¨å¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°å·¥ä½œ--äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–ç¬¬-5-éƒ¨åˆ†"><a class="header-anchor" aria-hidden="true" href="#æµè§ˆå™¨å¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°å·¥ä½œ--äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–ç¬¬-5-éƒ¨åˆ†">#</a>æµè§ˆå™¨å¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°å·¥ä½œ â€” äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 5 éƒ¨åˆ†ï¼‰</h1>
<p><code>metadata:</code></p>
<p><strong>åŸæ ‡é¢˜:</strong> How does browser work step by step [latest] â€” optimization in the interaction stage (part 5)</p>
<p><strong>é“¾æ¥:</strong> <a href="https://cabulous.medium.com/how-does-browser-work-in-2019-part-5-optimization-in-the-interaction-stage-66b53b8ec0ad" target="_blank" rel="nofollow">https://cabulous.medium.com/how-does-browser-work-in-2019-part-5-optimization-in-the-interaction-stage-66b53b8ec0ad</a></p>
<p><strong>æ–‡ç« å‰¯æ ‡é¢˜:</strong> äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 5 éƒ¨åˆ†ï¼‰</p>
<hr/>
<p>äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºä¼˜åŒ–å¸§ã€‚</p>
<p>ä¸é¡µé¢äº¤äº’æ—¶ï¼Œç”¨æˆ·ä¼šè§¦å‘äº‹ä»¶ã€‚ä¸€äº›äº‹ä»¶ä¼šä¿®æ”¹é¡µé¢å¸ƒå±€å’Œæ ·å¼ã€‚æ ¹æ®è„šæœ¬çš„ä¸åŒï¼Œæµè§ˆå™¨å¯èƒ½éœ€è¦å¤šæ¬¡ç»å†æ¸²æŸ“é˜¶æ®µï¼Œä»¥ä¸æ–­åœ°å‘æˆ‘ä»¬çš„å±å¹•äº¤ä»˜æ–°çš„ä½å›¾æˆ–åˆæˆå¸§ã€‚</p>
<h2 id="fps-and-lag-fps-å’Œå»¶è¿Ÿ"><a class="header-anchor" aria-hidden="true" href="#fps-and-lag-fps-å’Œå»¶è¿Ÿ">#</a>FPS and lag (FPS å’Œå»¶è¿Ÿ)</h2>
<p>äººçœ¼æœ€å¤šå¯ä»¥çœ‹åˆ°æ¯ç§’ 1,000 å¸§ ï¼ˆFPSï¼‰ã€‚åœ¨æ…¢é€Ÿæˆ–é™æ€åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘åˆ†è¾¨å‡ºè¶…è¿‡ 30 FPS çš„å·®å¼‚ã€‚ä½†æ˜¯ï¼Œå®ƒåœ¨åŠ¨æ€åœºæ™¯ä¸­å˜å¾—å¾ˆæ˜æ˜¾ï¼Œä¾‹å¦‚ç©ç¬¬ä¸€äººç§°å°„å‡»è§†é¢‘æ¸¸æˆã€‚å¦‚ä»Šï¼Œå¤§å¤šæ•°æ˜¾ç¤ºå™¨çš„åˆ·æ–°ç‡ä¸º 60 FPS æˆ– 60 èµ«å…¹ã€‚</p>
<p>ç†æƒ³æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨éœ€è¦å®Œæˆæ¸²æŸ“é˜¶æ®µå¹¶åœ¨ 1/60 ç§’å†…äº¤ä»˜ä¸€å¸§ã€‚å³ 16.67 æ¯«ç§’ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œç”¨æˆ·å°†çœ‹åˆ°æµç•…çš„åŠ¨ç”»ï¼Œå¹¶ä¸”ä¸ä¼šæ„Ÿåˆ°æ»åã€‚</p>
<p>åœ¨äº¤äº’é˜¶æ®µï¼Œé€šå¸¸é€šè¿‡æ‰§è¡ŒJavaScriptæ¥è§¦å‘é¡µé¢æ›´æ–°ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå®ƒå¯èƒ½ä¼šè§¦å‘å›æµå’Œé‡æ–°ç»˜åˆ¶ã€‚</p>
<h2 id="reflow-and-repaint-å›æµå’Œé‡ç»˜"><a class="header-anchor" aria-hidden="true" href="#reflow-and-repaint-å›æµå’Œé‡ç»˜">#</a>Reflow and repaint (å›æµå’Œé‡ç»˜)</h2>
<p>å½“ä¸€è¡Œ JavaScript æ›´æ”¹å…ƒç´ é«˜åº¦æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<p>é«˜åº¦ä¿®æ”¹ä¸ä¼šå½±å“ DOM æ ‘ã€‚ç›¸åï¼Œå®ƒéœ€è¦æ ·å¼è®¡ç®—ã€‚</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108203608.png" alt="20231108203608"/></p>
<p>åœ¨æ ·å¼è®¡ç®—ç»“æŸæ—¶ï¼Œæ¸²æŸ“è¿‡ç¨‹å°†é«˜åº¦å˜åŒ–åæ˜ åˆ°å¸ƒå±€é˜¶æ®µï¼Œä»è€Œå¯¼è‡´å…ƒç´ å‡ ä½•ä¿¡æ¯çš„è½¬æ¢ã€‚å› æ­¤ï¼Œéœ€è¦ç”Ÿæˆå¸ƒå±€æ ‘ã€‚</p>
<p>å¸ƒå±€æ ‘æ˜¯å…¶ä½™é˜¶æ®µçš„ä¾èµ–å…³ç³»ï¼Œå› æ­¤æ¸²æŸ“æµç¨‹éœ€è¦ç»å†æ‰€æœ‰æ­¥éª¤ã€‚</p>
<p>æ­¤è¿‡ç¨‹ç§°ä¸ºå›æµã€‚</p>
<p>åœ¨ JavaScript ä¸­è°ƒç”¨æ—¶ï¼Œè®¸å¤šå±æ€§æ£€æŸ¥å¯èƒ½ä¼šè§¦å‘é‡æ’ï¼Œä¾‹å¦‚â€œelement.offsetLeftâ€ã€‚è¿™æ˜¯å®ƒä»¬çš„<a href="/chrome/how-web-browser-works/what-forces-layout-reflow">å®Œæ•´åˆ—è¡¨</a>ã€‚</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108212931.png" alt="20231108212931"/></p>
<p>é‡æ’çš„æœ€åæƒ…å†µæ˜¯ä¿®æ”¹ DOMã€‚ä¾‹å¦‚â€œdocument.body.appendChildï¼ˆnodeï¼‰â€ã€‚å›æµè¿‡ç¨‹ä»ç¬¬ä¸€é˜¶æ®µå¼€å§‹ï¼Œæ„å»º DOM æ ‘ã€‚</p>
<p>å¦‚ä½•æ›´æ”¹å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ï¼Ÿ</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108213013.png" alt="20231108213013"/></p>
<p>åŒæ ·ï¼Œè®©æˆ‘ä»¬ä»æ ·å¼è®¡ç®—å¼€å§‹ã€‚æ–°çš„èƒŒæ™¯é¢œè‰²ä¸ä¼šä¿®æ”¹å…ƒç´ çš„å‡ ä½•å›¾å½¢ä¿¡æ¯ï¼Œå› æ­¤æ¸²æŸ“è¿›ç¨‹ä¼šè·³è¿‡å®ƒã€‚å®ƒä¹Ÿä¸ä¼šåˆ›å»ºæ–°å›¾å±‚ï¼Œå› æ­¤è®©æˆ‘ä»¬è·³è¿‡å›¾å±‚é˜¶æ®µã€‚åœ¨ç»˜åˆ¶é˜¶æ®µï¼Œæ¸²æŸ“è¿›ç¨‹éœ€è¦ç”Ÿæˆæ–°çš„ç»˜åˆ¶è®°å½•ä»¥åæ˜ èƒŒæ™¯é¢œè‰²æ›´æ–°ã€‚ç„¶åï¼Œå®ƒç»å†äº†å…¶ä½™çš„é˜¶æ®µã€‚</p>
<p>æ­¤è¿‡ç¨‹ç§°ä¸ºé‡ç»˜ã€‚</p>
<p>é‡æ’å’Œé‡ç»˜éƒ½ä¼šé™ä½æ¸²æŸ“æ€§èƒ½ï¼ŒåŸå› æœ‰äºŒï¼š</p>
<ul>
<li>The reflow and repaint process is happening in the main thread, so it cannot take care of any events triggered by usersâ€™ interaction. When it happens, the users feel lagging.<br/>
<!-- -->é‡æ’å’Œé‡ç»˜è¿‡ç¨‹å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œå› æ­¤å®ƒæ— æ³•å¤„ç†ç”¨æˆ·äº¤äº’è§¦å‘çš„ä»»ä½•äº‹ä»¶ã€‚å½“å®ƒå‘ç”Ÿæ—¶ï¼Œç”¨æˆ·ä¼šæ„Ÿåˆ°æ»åã€‚</li>
<li>computation process in the layout, layer, and paint phases are expensive.
é‡æ’å’Œç»˜åˆ¶é˜¶æ®µçš„è®¡ç®—è¿‡ç¨‹éå¸¸æ˜‚è´µã€‚</li>
</ul>
<p>Since the repaint skips the layout and layer phases, it is a relatively better option than reflow.</p>
<h2 id="are-there-any-changes-that-dont-trigger-reflow-and-repaint-at-all--æ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹æ ¹æœ¬ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜"><a class="header-anchor" aria-hidden="true" href="#are-there-any-changes-that-dont-trigger-reflow-and-repaint-at-all--æ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹æ ¹æœ¬ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜">#</a>Are there any changes that donâ€™t trigger reflow and repaint at all?  (æ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹æ ¹æœ¬ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜ï¼Ÿ)</h2>
<p>æ˜¯çš„ã€‚CSSåŠ¨ç”»å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚</p>
<p>A typical CSS animation uses a â€œtransformâ€ property. Modifying â€œtransformâ€ value skips the layout, layer, and paint phases, and starts with the tilling in the compositor thread(åˆæˆçº¿ç¨‹).</p>
<p>Without occupying the main thread, CSS animation doesnâ€™t block usersâ€™ interaction. It is the reason that you still see smooth CSS animation even if the page freezes.(åœ¨ä¸å ç”¨ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹ï¼ŒCSSåŠ¨ç”»ä¸ä¼šé˜»æ­¢ç”¨æˆ·çš„äº¤äº’ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå³ä½¿é¡µé¢å†»ç»“ï¼Œæ‚¨ä»ç„¶å¯ä»¥çœ‹åˆ°æµç•…çš„CSSåŠ¨ç”»çš„åŸå› ã€‚)</p>
<h2 id="optimization-in-the-interaction-stage-is-about-increasing-the-speed-of-frame-generation-äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºæé«˜å¸§ç”Ÿæˆé€Ÿåº¦"><a class="header-anchor" aria-hidden="true" href="#optimization-in-the-interaction-stage-is-about-increasing-the-speed-of-frame-generation-äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºæé«˜å¸§ç”Ÿæˆé€Ÿåº¦">#</a>Optimization in the interaction stage is about increasing the speed of frame generation (äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºæé«˜å¸§ç”Ÿæˆé€Ÿåº¦)</h2>
<p>JavaScript æ‰§è¡Œã€é‡æ’å’Œé‡ç»˜å¯èƒ½ä¼šå‡æ…¢å¸§ç”Ÿæˆé€Ÿåº¦ã€‚</p>
<p>æ‰§è¡Œæ—¶ï¼ŒJavaScript åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œã€‚è¿™é‡Œçš„æƒ³æ³•æ˜¯å°½å¯èƒ½å°‘åœ°ä½¿ç”¨ä¸»çº¿ç¨‹ã€‚</p>
<h3 id="reduce-the-length-of-time-executing-javascript--ç¼©çŸ­æ‰§è¡Œ-javascript-çš„æ—¶é—´é•¿åº¦"><a class="header-anchor" aria-hidden="true" href="#reduce-the-length-of-time-executing-javascript--ç¼©çŸ­æ‰§è¡Œ-javascript-çš„æ—¶é—´é•¿åº¦">#</a>Reduce the length of time executing JavaScript  (ç¼©çŸ­æ‰§è¡Œ JavaScript çš„æ—¶é—´é•¿åº¦)</h3>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªé‡è¦çš„å‡½æ•°å¯èƒ½éœ€è¦æ•°ç™¾æ¯«ç§’æ‰èƒ½å®Œæˆã€‚å®ƒä¼šé˜»å¡ä¸»çº¿ç¨‹å¹¶é™ä½æ€§èƒ½ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†å‡½æ•°åˆ†æˆè¾ƒå°çš„å‡½æ•°ï¼Œå› æ­¤æ¯ä¸ªå‡½æ•°éƒ½ä¸ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚æµè§ˆå™¨æœ‰åŠ©äºåœ¨è¿è¡Œå‡½æ•°æ—¶ä¼˜åŒ–ä»»åŠ¡ã€‚</p>
<p>Web Worker æ˜¯å¦ä¸€ç§é€‰æ‹©ã€‚æ‚¨å¯ä»¥åœ¨æ¸²æŸ“å™¨è¿›ç¨‹ä¸­å°†å…¶ä½œä¸ºç‹¬ç«‹çº¿ç¨‹è¿›è¡Œæ“ä½œã€‚å½“è„šæœ¬åœ¨ Web Worker ä¸­è¿è¡Œæ—¶ï¼Œä¸»çº¿ç¨‹æ˜¯ç©ºé—²çš„ã€‚å¦‚æœä¸€æ®µ JavaScript æ²¡æœ‰è®¿é—® DOM å’Œæ ·å¼è¡¨ï¼Œæ‚¨å¯ä»¥å°†å…¶ç§»åŠ¨åˆ° Web Workerã€‚</p>
<h3 id="avoid-the-reflow-and-repaint-when-executing-javascript-é¿å…åœ¨æ‰§è¡Œ-javascript-æ—¶é‡æ’å’Œé‡ç»˜"><a class="header-anchor" aria-hidden="true" href="#avoid-the-reflow-and-repaint-when-executing-javascript-é¿å…åœ¨æ‰§è¡Œ-javascript-æ—¶é‡æ’å’Œé‡ç»˜">#</a>Avoid the reflow and repaint when executing JavaScript (é¿å…åœ¨æ‰§è¡Œ JavaScript æ—¶é‡æ’å’Œé‡ç»˜)</h3>
<p>å½“ DOM æ ‘è¢«ä¿®æ”¹æ—¶ï¼Œæ¸²æŸ“å™¨è¿›ç¨‹å°†é‡æ–°è®¡ç®—æ ·å¼å’Œå¸ƒå±€ã€‚é€šå¸¸ï¼Œè®¡ç®—åœ¨å¦ä¸€ä¸ªä»»åŠ¡ä¸­å¼‚æ­¥è¿è¡Œã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214535.png" alt="20231108214535"/></p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214543.png" alt="20231108214543"/></p>
<p>ç¬¬ä¸€ä¸ªä»»åŠ¡å®ŒæˆJavaScriptæ‰§è¡Œã€‚ç„¶åå¦ä¸€ä¸ªä»»åŠ¡å¼‚æ­¥è¿è¡Œä»¥è®¡ç®—æ ·å¼å’Œå¸ƒå±€ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æ£€æŸ¥è„šæœ¬æœ«å°¾çš„å…ƒç´ é«˜åº¦ä¼šæ€æ ·ï¼Ÿ</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214926.png" alt="20231108214926"/></p>
<p>å½“è®¡ç®—å…ƒç´ â€œoffsetHeightâ€æ—¶ï¼Œè¯¥å€¼ä»ç„¶æ˜¯æ—§çš„ï¼Œå› ä¸ºæ¸²æŸ“å™¨è¿›ç¨‹å°šæœªè®¡ç®—æ ·å¼å’Œå¸ƒå±€ã€‚æ¸²æŸ“å™¨è¿›ç¨‹åŒæ­¥å¼€å§‹è®¡ç®—ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ¥æ”¶æ›´æ–°çš„å€¼ã€‚</p>
<div class="island-directive tip"><p class="island-directive-title">åŸæ–‡</p><div class="island-directive-content"><p>When evaluating the element â€œoffsetHeight,â€ the value is still the old one because the renderer process has not yet computed the style and layout. The renderer process starts the calculation synchronously so it can receive the updated value.</p><p>æ„æ€æ˜¯å› ä¸ºè®¡ç®—æ ·å¼å’Œå¸ƒå±€æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥è·å–<code>offsetHeight</code>æ—¶æ˜¯æ—§å€¼ï¼Œæ‰€ä»¥æ¸²æŸ“è¿›ç¨‹ä¸å¾—å·²åŒæ­¥è®¡ç®—äº†ä¸€éï¼Ÿ</p></div></div>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108215719.png" alt="20231108215719"/></p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¼ºåˆ¶åœ¨ JavaScript æ‰§è¡Œä»»åŠ¡ä¸­è¿›è¡Œæ ·å¼å’Œå¸ƒå±€è®¡ç®—ã€‚è®¡ç®—ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œç›´åˆ°æ‰§è¡Œå®Œæˆã€‚</p>
<p>æ›´ç³Ÿç³•çš„æ˜¯ï¼Ÿæˆ‘ä»¬åœ¨forå¾ªç¯ä¸­è¯„ä¼°å±æ€§ã€‚ä¸Šä¸€ä¸ªè¿‡ç¨‹ä¼šæŒç»­å‘ç”Ÿï¼Œç›´åˆ°æ‰§è¡Œç»“æŸã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé¡µé¢ä¸Šä¼šå‡ºç°æ˜æ˜¾çš„å»¶è¿Ÿã€‚</p>
<p>åœ¨ç°å®ç”Ÿæ´»ä¸­çš„é¡¹ç›®ä¸­ï¼Œå¾ˆéš¾å®Œå…¨é¿å…è¯„ä¼°å±æ€§ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•å°½é‡å‡å°‘ä½¿ç”¨é‡ã€‚</p>
<h2 id="using-css-animation-and-will-change-ä½¿ç”¨-css-åŠ¨ç”»å’Œwill-change"><a class="header-anchor" aria-hidden="true" href="#using-css-animation-and-will-change-ä½¿ç”¨-css-åŠ¨ç”»å’Œwill-change">#</a>Using CSS animation and â€œwill-changeâ€ (ä½¿ç”¨ CSS åŠ¨ç”»å’Œâ€œwill-changeâ€)</h2>
<p>CSSåŠ¨ç”»æ ¹æœ¬ä¸ä½¿ç”¨ä¸»çº¿ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°½å¯èƒ½å¤šåœ°ä½¿ç”¨å®ƒã€‚</p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†â€œwill-changeâ€å±æ€§é™„åŠ åˆ°åŠ¨ç”»å…ƒç´ ä¸Šã€‚å…·æœ‰â€œæ„å¿—æ›´æ”¹â€çš„å…ƒç´ å°†æ¸²æŸ“åœ¨å±‚æ ‘ä¸­çš„ç‹¬ç«‹å±‚ä¸Šï¼Œä»è€Œè¿›ä¸€æ­¥ä¼˜åŒ–åˆæˆå™¨çº¿ç¨‹ä¸­çš„å¸§ç”Ÿæˆã€‚</p>
<h1 id="references"><a class="header-anchor" aria-hidden="true" href="#references">#</a>References</h1>
<ul>
<li><a href="https://developers.google.com/web/updates/2018/09/inside-browser-part3" target="_blank" rel="nofollow">Inside look at modern web browser (part 3)<br/>
<!-- -->ç°ä»£ Web æµè§ˆå™¨å†…éƒ¨ä»‹ç»ï¼ˆç¬¬ 3 éƒ¨åˆ†ï¼‰</a></li>
<li><a href="https://www.html5rocks.com/en/tutorials/speed/high-performance-animations/" target="_blank" rel="nofollow">High Performance Animations â€” HTML5 Rocks<br/>
<!-- -->é«˜æ€§èƒ½åŠ¨ç”» â€” HTML5 Rocks</a></li>
<li><a href="https://www.quora.com/What-is-the-highest-frame-rate-fps-that-can-be-recognized-by-human-perception-At-what-rate-do-we-essentially-stop-noticing-the-difference" target="_blank" rel="nofollow">What is the highest frame rate (fps) that can be recognized by human perception?<br/>
<!-- -->äººç±»æ„ŸçŸ¥å¯ä»¥è¯†åˆ«çš„æœ€é«˜å¸§ç‡ï¼ˆfpsï¼‰æ˜¯å¤šå°‘ï¼Ÿ</a></li>
</ul><!--/$--></div><footer mt="8"><div class="xs:flex" p="b-5" justify="between" items-center="~"><div flex="" text="sm text-2" leading-6="~" leading-8="sm:~" font-medium=""><p>Last Updated: </p><span>2023/11/9 01:52:20</span></div></div><div flex="~ col sm:row" justify="sm:around" gap="2" divider-top="" pt="6"><div flex="~ col" class="_prev_1f77m_13"><a href="/chrome/how-web-browser-works/part-4_optimization-in-the-loading-stage" class="_pager-link_1f77m_20"><span class="_desc_1f77m_43">Previous Page</span><span class="_title_1f77m_34">åŠ è½½é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 4 éƒ¨åˆ†ï¼‰</span></a></div><div flex="~ col" class="_next_1f77m_16"><a href="/chrome/how-web-browser-works/what-forces-layout-reflow" class="_pager-link_1f77m_20 _next_1f77m_16"><span class="_desc_1f77m_43">Next page</span><span class="_title_1f77m_34">ä»€ä¹ˆå¼ºåˆ¶äº†é‡æ’/å›æµ</span></a></div></div></footer></div></div><div relative="~" display="none lg:block" order="2" flex="1" p="l-8" class="max-w-256px"><div class="_aside-container_5cssi_32"><div flex="~ col" p="b-8" style="min-height:calc(100vh - (var(--island-nav-height-desktop) + 32px))"><div><div flex="~ col 1"><div display="lg:block"><div relative="" divider-left="" p="l-4" text="13px" font-medium="" id="aside-container"><div absolute="" pos="top-33px" opacity="0" w="1px" h="18px" bg="brand" style="left:-1px;transition:top 0.25s cubic-bezier(0, 1, 0.5, 1), background-color 0.5s, opacity 0.25s" id="aside-marker"></div><div block="~" leading-7="" text="13px" font="semibold">ç›®å½•</div><nav><ul relative=""><li><a href="#fps-and-lag-fps-å’Œå»¶è¿Ÿ" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">FPS and lag (FPS å’Œå»¶è¿Ÿ)</a></li><li><a href="#reflow-and-repaint-å›æµå’Œé‡ç»˜" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Reflow and repaint (å›æµå’Œé‡ç»˜)</a></li><li><a href="#are-there-any-changes-that-dont-trigger-reflow-and-repaint-at-all--æ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹æ ¹æœ¬ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Are there any changes that donâ€™t trigger reflow and repaint at all?  (æ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹æ ¹æœ¬ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜ï¼Ÿ)</a></li><li><a href="#optimization-in-the-interaction-stage-is-about-increasing-the-speed-of-frame-generation-äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºæé«˜å¸§ç”Ÿæˆé€Ÿåº¦" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Optimization in the interaction stage is about increasing the speed of frame generation (äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºæé«˜å¸§ç”Ÿæˆé€Ÿåº¦)</a></li><li><a href="#reduce-the-length-of-time-executing-javascript--ç¼©çŸ­æ‰§è¡Œ-javascript-çš„æ—¶é—´é•¿åº¦" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:12px">Reduce the length of time executing JavaScript  (ç¼©çŸ­æ‰§è¡Œ JavaScript çš„æ—¶é—´é•¿åº¦)</a></li><li><a href="#avoid-the-reflow-and-repaint-when-executing-javascript-é¿å…åœ¨æ‰§è¡Œ-javascript-æ—¶é‡æ’å’Œé‡ç»˜" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:12px">Avoid the reflow and repaint when executing JavaScript (é¿å…åœ¨æ‰§è¡Œ JavaScript æ—¶é‡æ’å’Œé‡ç»˜)</a></li><li><a href="#using-css-animation-and-will-change-ä½¿ç”¨-css-åŠ¨ç”»å’Œwill-change" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Using CSS animation and â€œwill-changeâ€ (ä½¿ç”¨ CSS åŠ¨ç”»å’Œâ€œwill-changeâ€)</a></li></ul></nav></div></div></div></div></div></div></div></div></div></section></div></div>
      <script>window.ISLAND_PAGE_DATA={"siteData":{"lang":"en-US","title":"bekaçš„åšå®¢","description":"Island","themeConfig":{"lastUpdatedText":"ä¸Šæ¬¡æ›´æ–°","outlineTitle":"ç›®å½•","nav":[{"text":"Article","link":"/article/astro","activeMatch":"/article/"},{"text":"Chrome","link":"/chrome/fast-load-time/user-centric-performance-metrics","activeMatch":"/chrome/"},{"text":"Design-pattern","link":"/design-pattern/indexs","activeMatch":"/design-pattern/"},{"text":"Open-source","link":"/open-source/delay","activeMatch":"/open-source/"},{"text":"Promise","link":"/promise/first-resolved","activeMatch":"/promise/"},{"text":"Webpack","link":"/webpack/build-result","activeMatch":"/webpack/"}],"sidebar":{"article":[{"text":"Article","items":[{"text":"Astro","link":"/article/astro"},{"text":"æ–°ä¸€ä»£å…¨æ ˆæ¡†æ¶ Fresh","link":"/article/fresh"}],"collapsable":true}],"chrome":[{"text":"Chorme lala","items":[{"text":"ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„æ•ˆæœæŒ‡æ ‡","link":"/chrome/fast-load-time/user-centric-performance-metrics"}],"collapsable":true},{"text":"æµè§ˆå™¨å·¥ä½œåŸç†","items":[{"text":"é«˜çº§ä½“ç³»ç»“æ„ï¼ˆç¬¬ 1 éƒ¨åˆ†ï¼‰","link":"/chrome/how-web-browser-works/part-1_high-level-architecture"},{"text":"å¯¼èˆªé˜¶æ®µï¼ˆç¬¬ 2 éƒ¨åˆ†ï¼‰","link":"/chrome/how-web-browser-works/part-2_navigation-phase"},{"text":"æ¸²æŸ“é˜¶æ®µï¼ˆç¬¬ 3 éƒ¨åˆ†ï¼‰","link":"/chrome/how-web-browser-works/part-3_rendering-phase"},{"text":"åŠ è½½é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 4 éƒ¨åˆ†ï¼‰","link":"/chrome/how-web-browser-works/part-4_optimization-in-the-loading-stage"},{"text":"äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 5 éƒ¨åˆ†ï¼‰","link":"/chrome/how-web-browser-works/part-5_optimization-in-the-interaction-stage"},{"text":"ä»€ä¹ˆå¼ºåˆ¶äº†é‡æ’/å›æµ","link":"/chrome/how-web-browser-works/what-forces-layout-reflow"}],"collapsable":true},{"text":"Html","items":[{"text":"Metadata","link":"/chrome/html/metadata"},{"text":"html","link":"/chrome/html/overview"},{"text":"# æ–‡æ¡£ç»“æ„","link":"/chrome/html/structure"}],"collapsable":true},{"text":"å…³é”®æŒ‡æ ‡","items":[{"text":"First Contentful Paint (FCP)","link":"/chrome/metrics/FCP"},{"text":"Largest Contentful Paint (LCP)","link":"/chrome/metrics/LCP"},{"text":"Time to First Byte (TTFB)","link":"/chrome/metrics/TTFB"}],"collapsable":true},{"text":"æ€§èƒ½","items":[{"text":"ä¸€èˆ¬ HTML æ€§èƒ½æ³¨æ„äº‹é¡¹","link":"/chrome/performance/general-html-performance"},{"text":"optimize-resource-loading ä¼˜åŒ–èµ„æºè´Ÿè½½","link":"/chrome/performance/optimize-resource-loading"},{"text":"asdf","link":"/chrome/performance/welcome-copy"},{"text":"Welcome to Lean performance","link":"/chrome/performance/welcome"},{"text":"é€Ÿåº¦ä¸ºä»€ä¹ˆé‡è¦","link":"/chrome/performance/why-speed-matters"}],"collapsable":true},{"text":"æ€§èƒ½æŠ€å·§","items":[{"text":"Web ä¸Šçš„å¤šè¿›ç¨‹ï¼šæµè§ˆå™¨è¿›ç¨‹æ¨¡å‹","link":"/chrome/performance/tips/browser-process-model"},{"text":"Browser Rendering Pipeline","link":"/chrome/performance/tips/browser-rendering-pipeline"},{"text":"é€šè¿‡ç«ç„°å›¾æ‰¾åˆ°æœ‰é—®é¢˜çš„ä»£ç ","link":"/chrome/performance/tips/codepath-scoping"},{"text":"å¦‚ä½•æ”¶é›† Web æ€§èƒ½è·Ÿè¸ª","link":"/chrome/performance/tips/collect-a-trace"},{"text":"äº‹ä»¶å¾ªç¯åŸºç¡€çŸ¥è¯†","link":"/chrome/performance/tips/event-loop"},{"text":"æ·±åº¦è®²è§£ç«ç„°å›¾ ğŸ”¥ğŸ”¥","link":"/chrome/performance/tips/flamegraphs-in-depth"},{"text":"é•¿ä»»åŠ¡ï¼šå®ƒä»¬æ˜¯ä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆåº”è¯¥é¿å…å®ƒä»¬","link":"/chrome/performance/tips/long-tasks"},{"text":"performance æŸ¥çœ‹ä¸»çº¿ç¨‹ï¼ˆé¢œè‰²å«ä¹‰ï¼‰","link":"/chrome/performance/tips/main-profiler-pane"},{"text":"æ£€æµ‹æµè§ˆå™¨ä½•æ—¶åœ¨ JavaScript ä¸­ç»˜åˆ¶Frame","link":"/chrome/performance/tips/measuring-paint-time"},{"text":"å¦‚ä½•é˜…è¯» Chromium Profiler","link":"/chrome/performance/tips/network-profiler-pane"},{"text":"ä½¿ç”¨ Chromium ç½‘ç»œæ ‡ç­¾é¡µè·å–æ€§èƒ½è¯¦æƒ…","link":"/chrome/performance/tips/network-tab"},{"text":"ä½¿ç”¨æ€§èƒ½æ—¶åºæ ‡è®°è¿›è¡ŒğŸ“æµ‹é‡","link":"/chrome/performance/tips/performance-timing-markers"},{"text":"Chromium F12 æ€§èƒ½åˆ†æå™¨çš„åŸºæœ¬æ¦‚è¿°","link":"/chrome/performance/tips/profiler-basic-ui"},{"text":"ä¼ è¾“å¤§å° vs èµ„æºå¤§å°","link":"/chrome/performance/tips/resource-size-vs-transfer-size"},{"text":"å¦‚ä½•é˜…è¯»ç«ç„°å›¾ ğŸ”¥","link":"/chrome/performance/tips/understanding-flamegraphs"},{"text":"è¯†åˆ« Web åº”ç”¨ä¸­çš„æœªå‹ç¼©èµ„æº","link":"/chrome/performance/tips/validating-compression"}],"collapsable":true}],"design-pattern":[{"text":"Design-pattern","items":[{"text":"èµ„æºåˆ—è¡¨","link":"/design-pattern/indexs"},{"text":"ä»£ç†æ¨¡å¼","link":"/design-pattern/proxy-pattern"},{"text":"Singleton Pattern","link":"/design-pattern/singleton-pattern"},{"text":"çŠ¶æ€æ¨¡å¼","link":"/design-pattern/state-pattern"},{"text":"ç­–ç•¥æ¨¡å¼","link":"/design-pattern/strategy-pattern"}],"collapsable":true}],"open-source":[{"text":"Open-source","items":[{"text":"delay","link":"/open-source/delay"},{"text":"dot-prop","link":"/open-source/dot-prop"},{"text":"glob-to-regexp","link":"/open-source/glob-to-regexp"},{"text":"koa æ´‹è‘±æ¨¡å‹","link":"/open-source/koa-compose"},{"text":"quick-lru","link":"/open-source/lru-cache"},{"text":"p-defer","link":"/open-source/p-defer"},{"text":"p-lazy","link":"/open-source/p-lazy"},{"text":"p-limit","link":"/open-source/p-limit"},{"text":"p-locate","link":"/open-source/p-locate"},{"text":"p-settle","link":"/open-source/p-settle"},{"text":"yocto-queue","link":"/open-source/yocto-queue"}],"collapsable":true}],"promise":[{"text":"Promise","items":[{"text":"é¡ºåºæ‰§è¡Œä»»åŠ¡ç›´åˆ°ç¬¬ä¸€ä¸ªresolved","link":"/promise/first-resolved"},{"text":"reduceå®ç°å¤šä¸ªpromiseé¡ºåºæ‰§è¡Œ","link":"/promise/sequential-execution"}],"collapsable":true}],"webpack":[{"text":"Webpack","items":[{"text":"webpack æ‰“åŒ…ç»“æœè§£æ","link":"/webpack/build-result"},{"text":"mini-webpack","link":"/webpack/mini-webpack"},{"text":"minipack","link":"/webpack/minipack"},{"text":"[todo]tapable","link":"/webpack/tapable"}],"collapsable":true}]},"footer":{"message":"Released under the MIT License.","copyright":"Copyright Â© 2022-present Beka"}},"head":[["script",{"id":"check-dark-light"},"\n        ;(() => {\n          const saved = localStorage.getItem('island-theme-appearance')\n          const prefereDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n          if (!saved || saved === 'auto' ? prefereDark : saved === 'dark') {\n            document.documentElement.classList.add('dark')\n          }\n        })()\n      "]],"base":"","icon":"","root":"/Users/beka/Desktop/code/bekacodechn.github.io/blog","appearance":true},"pagePath":"/Users/beka/Desktop/code/bekacodechn.github.io/blog/chrome/how-web-browser-works/part-5_optimization-in-the-interaction-stage.md","relativePagePath":"chrome/how-web-browser-works/part-5_optimization-in-the-interaction-stage.md","toc":[{"id":"fps-and-lag-fps-å’Œå»¶è¿Ÿ","text":"FPS and lag (FPS å’Œå»¶è¿Ÿ)","depth":2},{"id":"reflow-and-repaint-å›æµå’Œé‡ç»˜","text":"Reflow and repaint (å›æµå’Œé‡ç»˜)","depth":2},{"id":"are-there-any-changes-that-dont-trigger-reflow-and-repaint-at-all--æ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹æ ¹æœ¬ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜","text":"Are there any changes that donâ€™t trigger reflow and repaint at all?  (æ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹æ ¹æœ¬ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜ï¼Ÿ)","depth":2},{"id":"optimization-in-the-interaction-stage-is-about-increasing-the-speed-of-frame-generation-äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºæé«˜å¸§ç”Ÿæˆé€Ÿåº¦","text":"Optimization in the interaction stage is about increasing the speed of frame generation (äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºæé«˜å¸§ç”Ÿæˆé€Ÿåº¦)","depth":2},{"id":"reduce-the-length-of-time-executing-javascript--ç¼©çŸ­æ‰§è¡Œ-javascript-çš„æ—¶é—´é•¿åº¦","text":"Reduce the length of time executing JavaScript  (ç¼©çŸ­æ‰§è¡Œ JavaScript çš„æ—¶é—´é•¿åº¦)","depth":3},{"id":"avoid-the-reflow-and-repaint-when-executing-javascript-é¿å…åœ¨æ‰§è¡Œ-javascript-æ—¶é‡æ’å’Œé‡ç»˜","text":"Avoid the reflow and repaint when executing JavaScript (é¿å…åœ¨æ‰§è¡Œ JavaScript æ—¶é‡æ’å’Œé‡ç»˜)","depth":3},{"id":"using-css-animation-and-will-change-ä½¿ç”¨-css-åŠ¨ç”»å’Œwill-change","text":"Using CSS animation and â€œwill-changeâ€ (ä½¿ç”¨ CSS åŠ¨ç”»å’Œâ€œwill-changeâ€)","depth":2}],"title":"References","lastUpdatedTime":"2023/11/9 01:52:20","content":"# æµè§ˆå™¨å¦‚ä½•ä¸€æ­¥ä¸€æ­¥åœ°å·¥ä½œ â€” äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 5 éƒ¨åˆ†ï¼‰\n\n`metadata:`\n\n**åŸæ ‡é¢˜:** How does browser work step by step [latest] â€” optimization in the interaction stage (part 5)\n\n**é“¾æ¥:** https://cabulous.medium.com/how-does-browser-work-in-2019-part-5-optimization-in-the-interaction-stage-66b53b8ec0ad\n\n**æ–‡ç« å‰¯æ ‡é¢˜:** äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–ï¼ˆç¬¬ 5 éƒ¨åˆ†ï¼‰\n\n---\n\näº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºä¼˜åŒ–å¸§ã€‚\n\nä¸é¡µé¢äº¤äº’æ—¶ï¼Œç”¨æˆ·ä¼šè§¦å‘äº‹ä»¶ã€‚ä¸€äº›äº‹ä»¶ä¼šä¿®æ”¹é¡µé¢å¸ƒå±€å’Œæ ·å¼ã€‚æ ¹æ®è„šæœ¬çš„ä¸åŒï¼Œæµè§ˆå™¨å¯èƒ½éœ€è¦å¤šæ¬¡ç»å†æ¸²æŸ“é˜¶æ®µï¼Œä»¥ä¸æ–­åœ°å‘æˆ‘ä»¬çš„å±å¹•äº¤ä»˜æ–°çš„ä½å›¾æˆ–åˆæˆå¸§ã€‚\n\n## FPS and lag (FPS å’Œå»¶è¿Ÿ)\n\näººçœ¼æœ€å¤šå¯ä»¥çœ‹åˆ°æ¯ç§’ 1,000 å¸§ ï¼ˆFPSï¼‰ã€‚åœ¨æ…¢é€Ÿæˆ–é™æ€åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘åˆ†è¾¨å‡ºè¶…è¿‡ 30 FPS çš„å·®å¼‚ã€‚ä½†æ˜¯ï¼Œå®ƒåœ¨åŠ¨æ€åœºæ™¯ä¸­å˜å¾—å¾ˆæ˜æ˜¾ï¼Œä¾‹å¦‚ç©ç¬¬ä¸€äººç§°å°„å‡»è§†é¢‘æ¸¸æˆã€‚å¦‚ä»Šï¼Œå¤§å¤šæ•°æ˜¾ç¤ºå™¨çš„åˆ·æ–°ç‡ä¸º 60 FPS æˆ– 60 èµ«å…¹ã€‚\n\nç†æƒ³æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨éœ€è¦å®Œæˆæ¸²æŸ“é˜¶æ®µå¹¶åœ¨ 1/60 ç§’å†…äº¤ä»˜ä¸€å¸§ã€‚å³ 16.67 æ¯«ç§’ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œç”¨æˆ·å°†çœ‹åˆ°æµç•…çš„åŠ¨ç”»ï¼Œå¹¶ä¸”ä¸ä¼šæ„Ÿåˆ°æ»åã€‚\n\nåœ¨äº¤äº’é˜¶æ®µï¼Œé€šå¸¸é€šè¿‡æ‰§è¡ŒJavaScriptæ¥è§¦å‘é¡µé¢æ›´æ–°ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œå®ƒå¯èƒ½ä¼šè§¦å‘å›æµå’Œé‡æ–°ç»˜åˆ¶ã€‚\n\n## Reflow and repaint (å›æµå’Œé‡ç»˜)\n\nå½“ä¸€è¡Œ JavaScript æ›´æ”¹å…ƒç´ é«˜åº¦æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ\n\né«˜åº¦ä¿®æ”¹ä¸ä¼šå½±å“ DOM æ ‘ã€‚ç›¸åï¼Œå®ƒéœ€è¦æ ·å¼è®¡ç®—ã€‚\n\n![20231108203608](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108203608.png)\n\nåœ¨æ ·å¼è®¡ç®—ç»“æŸæ—¶ï¼Œæ¸²æŸ“è¿‡ç¨‹å°†é«˜åº¦å˜åŒ–åæ˜ åˆ°å¸ƒå±€é˜¶æ®µï¼Œä»è€Œå¯¼è‡´å…ƒç´ å‡ ä½•ä¿¡æ¯çš„è½¬æ¢ã€‚å› æ­¤ï¼Œéœ€è¦ç”Ÿæˆå¸ƒå±€æ ‘ã€‚\n\nå¸ƒå±€æ ‘æ˜¯å…¶ä½™é˜¶æ®µçš„ä¾èµ–å…³ç³»ï¼Œå› æ­¤æ¸²æŸ“æµç¨‹éœ€è¦ç»å†æ‰€æœ‰æ­¥éª¤ã€‚\n\næ­¤è¿‡ç¨‹ç§°ä¸ºå›æµã€‚ \n\nåœ¨ JavaScript ä¸­è°ƒç”¨æ—¶ï¼Œè®¸å¤šå±æ€§æ£€æŸ¥å¯èƒ½ä¼šè§¦å‘é‡æ’ï¼Œä¾‹å¦‚â€œelement.offsetLeftâ€ã€‚è¿™æ˜¯å®ƒä»¬çš„[å®Œæ•´åˆ—è¡¨](chrome/how-web-browser-works/what-forces-layout-reflow)ã€‚\n\n![20231108212931](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108212931.png)\n\né‡æ’çš„æœ€åæƒ…å†µæ˜¯ä¿®æ”¹ DOMã€‚ä¾‹å¦‚â€œdocument.body.appendChildï¼ˆnodeï¼‰â€ã€‚å›æµè¿‡ç¨‹ä»ç¬¬ä¸€é˜¶æ®µå¼€å§‹ï¼Œæ„å»º DOM æ ‘ã€‚\n\nå¦‚ä½•æ›´æ”¹å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ï¼Ÿ\n\n![20231108213013](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108213013.png)\n\nåŒæ ·ï¼Œè®©æˆ‘ä»¬ä»æ ·å¼è®¡ç®—å¼€å§‹ã€‚æ–°çš„èƒŒæ™¯é¢œè‰²ä¸ä¼šä¿®æ”¹å…ƒç´ çš„å‡ ä½•å›¾å½¢ä¿¡æ¯ï¼Œå› æ­¤æ¸²æŸ“è¿›ç¨‹ä¼šè·³è¿‡å®ƒã€‚å®ƒä¹Ÿä¸ä¼šåˆ›å»ºæ–°å›¾å±‚ï¼Œå› æ­¤è®©æˆ‘ä»¬è·³è¿‡å›¾å±‚é˜¶æ®µã€‚åœ¨ç»˜åˆ¶é˜¶æ®µï¼Œæ¸²æŸ“è¿›ç¨‹éœ€è¦ç”Ÿæˆæ–°çš„ç»˜åˆ¶è®°å½•ä»¥åæ˜ èƒŒæ™¯é¢œè‰²æ›´æ–°ã€‚ç„¶åï¼Œå®ƒç»å†äº†å…¶ä½™çš„é˜¶æ®µã€‚\n\næ­¤è¿‡ç¨‹ç§°ä¸ºé‡ç»˜ã€‚\n\né‡æ’å’Œé‡ç»˜éƒ½ä¼šé™ä½æ¸²æŸ“æ€§èƒ½ï¼ŒåŸå› æœ‰äºŒï¼š\n\n- The reflow and repaint process is happening in the main thread, so it cannot take care of any events triggered by usersâ€™ interaction. When it happens, the users feel lagging.  \né‡æ’å’Œé‡ç»˜è¿‡ç¨‹å‘ç”Ÿåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œå› æ­¤å®ƒæ— æ³•å¤„ç†ç”¨æˆ·äº¤äº’è§¦å‘çš„ä»»ä½•äº‹ä»¶ã€‚å½“å®ƒå‘ç”Ÿæ—¶ï¼Œç”¨æˆ·ä¼šæ„Ÿåˆ°æ»åã€‚\n- computation process in the layout, layer, and paint phases are expensive.\n  é‡æ’å’Œç»˜åˆ¶é˜¶æ®µçš„è®¡ç®—è¿‡ç¨‹éå¸¸æ˜‚è´µã€‚\n\nSince the repaint skips the layout and layer phases, it is a relatively better option than reflow.\n\n## Are there any changes that donâ€™t trigger reflow and repaint at all?  (æ˜¯å¦æœ‰ä»»ä½•æ›´æ”¹æ ¹æœ¬ä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜ï¼Ÿ)\n\næ˜¯çš„ã€‚CSSåŠ¨ç”»å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚\n\nA typical CSS animation uses a â€œtransformâ€ property. Modifying â€œtransformâ€ value skips the layout, layer, and paint phases, and starts with the tilling in the compositor thread(åˆæˆçº¿ç¨‹).\n\nWithout occupying the main thread, CSS animation doesnâ€™t block usersâ€™ interaction. It is the reason that you still see smooth CSS animation even if the page freezes.(åœ¨ä¸å ç”¨ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹ï¼ŒCSSåŠ¨ç”»ä¸ä¼šé˜»æ­¢ç”¨æˆ·çš„äº¤äº’ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå³ä½¿é¡µé¢å†»ç»“ï¼Œæ‚¨ä»ç„¶å¯ä»¥çœ‹åˆ°æµç•…çš„CSSåŠ¨ç”»çš„åŸå› ã€‚)\n\n## Optimization in the interaction stage is about increasing the speed of frame generation (äº¤äº’é˜¶æ®µçš„ä¼˜åŒ–æ˜¯å…³äºæé«˜å¸§ç”Ÿæˆé€Ÿåº¦)\n\nJavaScript æ‰§è¡Œã€é‡æ’å’Œé‡ç»˜å¯èƒ½ä¼šå‡æ…¢å¸§ç”Ÿæˆé€Ÿåº¦ã€‚\n\næ‰§è¡Œæ—¶ï¼ŒJavaScript åœ¨ä¸»çº¿ç¨‹ä¸­è¿è¡Œã€‚è¿™é‡Œçš„æƒ³æ³•æ˜¯å°½å¯èƒ½å°‘åœ°ä½¿ç”¨ä¸»çº¿ç¨‹ã€‚\n\n### Reduce the length of time executing JavaScript  (ç¼©çŸ­æ‰§è¡Œ JavaScript çš„æ—¶é—´é•¿åº¦)\n\nä¾‹å¦‚ï¼Œä¸€ä¸ªé‡è¦çš„å‡½æ•°å¯èƒ½éœ€è¦æ•°ç™¾æ¯«ç§’æ‰èƒ½å®Œæˆã€‚å®ƒä¼šé˜»å¡ä¸»çº¿ç¨‹å¹¶é™ä½æ€§èƒ½ã€‚\n\næˆ‘ä»¬å¯ä»¥å°†å‡½æ•°åˆ†æˆè¾ƒå°çš„å‡½æ•°ï¼Œå› æ­¤æ¯ä¸ªå‡½æ•°éƒ½ä¸ä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ã€‚æµè§ˆå™¨æœ‰åŠ©äºåœ¨è¿è¡Œå‡½æ•°æ—¶ä¼˜åŒ–ä»»åŠ¡ã€‚\n\nWeb Worker æ˜¯å¦ä¸€ç§é€‰æ‹©ã€‚æ‚¨å¯ä»¥åœ¨æ¸²æŸ“å™¨è¿›ç¨‹ä¸­å°†å…¶ä½œä¸ºç‹¬ç«‹çº¿ç¨‹è¿›è¡Œæ“ä½œã€‚å½“è„šæœ¬åœ¨ Web Worker ä¸­è¿è¡Œæ—¶ï¼Œä¸»çº¿ç¨‹æ˜¯ç©ºé—²çš„ã€‚å¦‚æœä¸€æ®µ JavaScript æ²¡æœ‰è®¿é—® DOM å’Œæ ·å¼è¡¨ï¼Œæ‚¨å¯ä»¥å°†å…¶ç§»åŠ¨åˆ° Web Workerã€‚\n\n### Avoid the reflow and repaint when executing JavaScript (é¿å…åœ¨æ‰§è¡Œ JavaScript æ—¶é‡æ’å’Œé‡ç»˜)\n\nå½“ DOM æ ‘è¢«ä¿®æ”¹æ—¶ï¼Œæ¸²æŸ“å™¨è¿›ç¨‹å°†é‡æ–°è®¡ç®—æ ·å¼å’Œå¸ƒå±€ã€‚é€šå¸¸ï¼Œè®¡ç®—åœ¨å¦ä¸€ä¸ªä»»åŠ¡ä¸­å¼‚æ­¥è¿è¡Œã€‚\n\nè®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚\n\n![20231108214535](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214535.png)\n\n![20231108214543](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214543.png)\n\nç¬¬ä¸€ä¸ªä»»åŠ¡å®ŒæˆJavaScriptæ‰§è¡Œã€‚ç„¶åå¦ä¸€ä¸ªä»»åŠ¡å¼‚æ­¥è¿è¡Œä»¥è®¡ç®—æ ·å¼å’Œå¸ƒå±€ã€‚\n\nå¦‚æœæˆ‘ä»¬æ£€æŸ¥è„šæœ¬æœ«å°¾çš„å…ƒç´ é«˜åº¦ä¼šæ€æ ·ï¼Ÿ\n\n![20231108214926](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108214926.png)\n\nå½“è®¡ç®—å…ƒç´ â€œoffsetHeightâ€æ—¶ï¼Œè¯¥å€¼ä»ç„¶æ˜¯æ—§çš„ï¼Œå› ä¸ºæ¸²æŸ“å™¨è¿›ç¨‹å°šæœªè®¡ç®—æ ·å¼å’Œå¸ƒå±€ã€‚æ¸²æŸ“å™¨è¿›ç¨‹åŒæ­¥å¼€å§‹è®¡ç®—ï¼Œä»¥ä¾¿å®ƒå¯ä»¥æ¥æ”¶æ›´æ–°çš„å€¼ã€‚\n\n:::tip{title=åŸæ–‡}\nWhen evaluating the element â€œoffsetHeight,â€ the value is still the old one because the renderer process has not yet computed the style and layout. The renderer process starts the calculation synchronously so it can receive the updated value.\n\næ„æ€æ˜¯å› ä¸ºè®¡ç®—æ ·å¼å’Œå¸ƒå±€æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥è·å–`offsetHeight`æ—¶æ˜¯æ—§å€¼ï¼Œæ‰€ä»¥æ¸²æŸ“è¿›ç¨‹ä¸å¾—å·²åŒæ­¥è®¡ç®—äº†ä¸€éï¼Ÿ\n:::\n\n![20231108215719](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231108215719.png)\n\nåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¼ºåˆ¶åœ¨ JavaScript æ‰§è¡Œä»»åŠ¡ä¸­è¿›è¡Œæ ·å¼å’Œå¸ƒå±€è®¡ç®—ã€‚è®¡ç®—ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œç›´åˆ°æ‰§è¡Œå®Œæˆã€‚\n\næ›´ç³Ÿç³•çš„æ˜¯ï¼Ÿæˆ‘ä»¬åœ¨forå¾ªç¯ä¸­è¯„ä¼°å±æ€§ã€‚ä¸Šä¸€ä¸ªè¿‡ç¨‹ä¼šæŒç»­å‘ç”Ÿï¼Œç›´åˆ°æ‰§è¡Œç»“æŸã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé¡µé¢ä¸Šä¼šå‡ºç°æ˜æ˜¾çš„å»¶è¿Ÿã€‚\n\nåœ¨ç°å®ç”Ÿæ´»ä¸­çš„é¡¹ç›®ä¸­ï¼Œå¾ˆéš¾å®Œå…¨é¿å…è¯„ä¼°å±æ€§ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•å°½é‡å‡å°‘ä½¿ç”¨é‡ã€‚\n\n## Using CSS animation and â€œwill-changeâ€ (ä½¿ç”¨ CSS åŠ¨ç”»å’Œâ€œwill-changeâ€)\n\nCSSåŠ¨ç”»æ ¹æœ¬ä¸ä½¿ç”¨ä¸»çº¿ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°½å¯èƒ½å¤šåœ°ä½¿ç”¨å®ƒã€‚\n\nåŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†â€œwill-changeâ€å±æ€§é™„åŠ åˆ°åŠ¨ç”»å…ƒç´ ä¸Šã€‚å…·æœ‰â€œæ„å¿—æ›´æ”¹â€çš„å…ƒç´ å°†æ¸²æŸ“åœ¨å±‚æ ‘ä¸­çš„ç‹¬ç«‹å±‚ä¸Šï¼Œä»è€Œè¿›ä¸€æ­¥ä¼˜åŒ–åˆæˆå™¨çº¿ç¨‹ä¸­çš„å¸§ç”Ÿæˆã€‚\n\n# References\n\n*   [Inside look at modern web browser (part 3)  \n    ç°ä»£ Web æµè§ˆå™¨å†…éƒ¨ä»‹ç»ï¼ˆç¬¬ 3 éƒ¨åˆ†ï¼‰](https://developers.google.com/web/updates/2018/09/inside-browser-part3)\n*   [High Performance Animations â€” HTML5 Rocks  \n    é«˜æ€§èƒ½åŠ¨ç”» â€” HTML5 Rocks](https://www.html5rocks.com/en/tutorials/speed/high-performance-animations/)\n*   [What is the highest frame rate (fps) that can be recognized by human perception?  \n    äººç±»æ„ŸçŸ¥å¯ä»¥è¯†åˆ«çš„æœ€é«˜å¸§ç‡ï¼ˆfpsï¼‰æ˜¯å¤šå°‘ï¼Ÿ](https://www.quora.com/What-is-the-highest-frame-rate-fps-that-can-be-recognized-by-human-perception-At-what-rate-do-we-essentially-stop-noticing-the-difference)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","pageType":"doc","routePath":"/chrome/how-web-browser-works/part-5_optimization-in-the-interaction-stage"};</script>
      
      <script type="module" src="/client-entry.js"></script>
    </body>
  </html>