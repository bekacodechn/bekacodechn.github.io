<!DOCTYPE html>
  <html>
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <link rel="icon" href="" type="image/svg+xml"></link>
      <script  id="check-dark-light">
        ;(() => {
          const saved = localStorage.getItem('island-theme-appearance')
          const prefereDark = window.matchMedia('(prefers-color-scheme: dark)').matches
          if (!saved || saved === 'auto' ? prefereDark : saved === 'dark') {
            document.documentElement.classList.add('dark')
          }
        })()
      </script>
      <title data-rh="true">传输大小 vs 资源大小</title>
      <meta data-rh="true" name="description" content="Island"/>
      
      
      <script defer src='https://ga.jspm.io/npm:es-module-shims@1.6.0/dist/es-module-shims.js'></script>
      <script type="importmap">
        {
          "imports": {
            "react": "/react.js","react-dom": "/react-dom.js","react-dom/client": "/react-dom_client.js","react/jsx-runtime": "/react_jsx-runtime.js"
          }
        }
      </script>

      <link rel="stylesheet" href="/assets/style.71d86141.css">

    </head>
    <body>
      <div id="root"><div style="height:100%"><header relative="" z="4" fixed="md:~" class="top-0 left-0" w="100%"><div relative="" p="l-8 sm:x-8" transition="background-color duration-500" class="divider-bottom md:border-b-transparent lg:border-b-transparent" nav-h="mobile lg:desktop"><div flex="" justify="between" m="0 auto" nav-h="mobile lg:desktop" class="_container_1ic07_52  _has-sidebar_1ic07_16"><div border="border t-0 b-1 border-solid transparent" class="_nav-bar-title_1ic07_16"><a href="/" w="100%" h="100%" text="1rem" font="semibold" transition="opacity duration-300" hover="opacity-60" class="flex items-center"><span>beka的博客</span></a></div><div class="_content_1ic07_24" flex="~ 1" justify="end" items-center=""><div class="search" flex="sm:1" pl="sm:8"><div flex="" items-center="~" relative="" mr="2" font="semibold"><svg width="32" height="32" viewBox="0 0 32 32" w="5" h="5" fill="currentColor"><path fill="#888888" d="m29 27.586l-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9a9.01 9.01 0 0 1-9-9Z"></path></svg><input disabled="" cursor="text focus:auto" placeholder="Search" height="8" border="none" type="text" text="sm" p="t-0 r-2 b-0 l-2" transition="all duration-200 ease" class="rounded-sm _searchInput_y03a3_1 " aria-label="Search" autoComplete="off"/><div m="r-3" w="10" h="6" p="x-1.5" rounded="md" border="1px solid gray-light-3" text="xs gray-light-3" flex="~" items-center="~" justify="around" class="_searchCommand_y03a3_7"><span>⌘</span><span>K</span></div></div></div><div class="_rightNav_1ic07_42"><div class="menu"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Article</a></div><div text="sm" font="medium" m="x-3" class="text-brand"><a class="_link_r3fql_1 " target="" cursor="pointer">Chrome</a></div><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Design-pattern</a></div><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Open-source</a></div><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Promise</a></div><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Webpack</a></div></div><div class="appearance" before="menu-item-before" display="none sm:flex" items-center="center"><button class="_switch_1tqe3_1 undefined" id="" type="button" role="switch"><span class="_check_1tqe3_17"><span class="_icon_1tqe3_34"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="_sun_8e60k_1"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="_moon_8e60k_5"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div></div><button class=" _navHamburger_14nz8_1"><span class="_container_14nz8_14"><span class="_top_14nz8_21"></span><span class="_middle_14nz8_27"></span><span class="_bottom_14nz8_33"></span></span></button><div class="_navScreen_1mkpq_1 " id="navScreen"><div class="_container_1mkpq_21"><div class="_navMenu_1mkpq_27"><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Article</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class="text-brand"><a class="_link_r3fql_1 " target="" cursor="pointer">Chrome</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Design-pattern</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Open-source</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Promise</a></div></div><div w="100%" class="_navMenuItem_1mkpq_34"><div text="sm" font="medium" m="x-3" class=""><a class="_link_r3fql_1 " target="" cursor="pointer">Webpack</a></div></div></div><div class="_socialAndAppearance_1mkpq_50" flex="~" justify="center" items-center="center"><div class="items-center appearance pa-2 _navAppearance_1mkpq_46" flex="~" justify="center"><button class="_switch_1tqe3_1 undefined" id="" type="button" role="switch"><span class="_check_1tqe3_17"><span class="_icon_1tqe3_34"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="_sun_8e60k_1"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="_moon_8e60k_5"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div></div></div></div></div></div></div></header><section style="padding-top:var(--island-nav-height)"><div p="t-0 x-6 b-24 sm:6" class="_docLayout_5cssi_8"><div class="_localNav_ncerp_1"><button flex="center" class="_menu_ncerp_16"><div text="md" mr="2" class="i-carbon:menu"></div><span text="md ">Menu</span></button></div><aside class="_sidebar_iav29_1 "><nav><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">Chorme lala</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:28px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">以用户为中心的效果指标</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">浏览器工作原理</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:168px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">高级体系结构（第 1 部分）</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">导航阶段（第 2 部分）</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">渲染阶段（第 3 部分）</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">加载阶段的优化（第 4 部分）</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">交互阶段的优化（第 5 部分）</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">什么强制了重排/回流</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">Html</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:84px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Metadata</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">html</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer"># 文档结构</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">关键指标</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:84px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">First Contentful Paint (FCP)</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Largest Contentful Paint (LCP)</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Time to First Byte (TTFB)</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">性能</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:140px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">一般 HTML 性能注意事项</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">optimize-resource-loading 优化资源负载</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">asdf</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Welcome to Lean performance</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">速度为什么重要</a></div></div></div></div></section><section block="~" not-first="divider-top mt-4"><div flex="~" justify="between" items-start="~" class="items-center"><h2 m="t-3 b-2" text="1rem text-1" font="bold">性能技巧</h2><div class="i-carbon-chevron-right" cursor-pointer="~" style="transition:transform 0.2s ease-out;transform:rotate(90deg)"></div></div><div mb="1.4 sm:1" style="transition:height 0.2s ease-out;height:448px;overflow:hidden"><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Web 上的多进程：浏览器进程模型</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Browser Rendering Pipeline</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">通过火焰图找到有问题的代码</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">如何收集 Web 性能跟踪</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">事件循环基础知识</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">深度讲解火焰图 🔥🔥</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">长任务：它们是什么以及为什么应该避免它们</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">performance 查看主线程（颜色含义）</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">检测浏览器何时在 JavaScript 中绘制Frame</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">如何阅读 Chromium Profiler</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">使用 Chromium 网络标签页获取性能详情</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">使用性能时序标记进行📏测量</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">Chromium F12 性能分析器的基本概述</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-brand"><a class="_link_r3fql_1 " target="" cursor="pointer">传输大小 vs 资源大小</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">如何阅读火焰图 🔥</a></div></div></div><div><div style="margin-left:0px"><div p="1" block="~" text="sm" font-medium="~" class="text-text-2"><a class="_link_r3fql_1 " target="" cursor="pointer">识别 Web 应用中的未压缩资源</a></div></div></div></div></section></nav></aside><div flex="~ 1 shrink-0" m="x-auto" class="_content_5cssi_2"><div m="x-auto" flex="~ col" class="max-w-100%"><div relative="~" m="x-auto" p="l-2" class="w-100% md:max-w-712px lg:min-w-640px "><div class="island-doc "><!--$--><h1 id="传输大小-vs-资源大小"><a class="header-anchor" aria-hidden="true" href="#传输大小-vs-资源大小">#</a>传输大小 vs 资源大小</h1>
<p><code>metadata:</code></p>
<p><strong>原标题:</strong> Transfer Size vs. Resource Size</p>
<p><strong>链接:</strong> <a href="https://webperf.tips/tip/resource-size-vs-transfer-size/" target="_blank" rel="nofollow">https://webperf.tips/tip/resource-size-vs-transfer-size/</a></p>
<hr/>
<p>Web 应用程序提供给最终用户的资源（图像、JavaScript 文件、CSS 文件等）的大小直接影响性能。</p>
<p>请务必明确测量大小的两种关键方法：传输大小(Transfer Size)和资源大小(Resource Size)。</p>
<p>在本文中，我们将讨论每种方法及其对性能的影响。</p>
<h2 id="transfer-size传输大小"><a class="header-anchor" aria-hidden="true" href="#transfer-size传输大小">#</a>Transfer Size 传输大小</h2>
<p>Web 应用程序旨在从网络中检索远程资源，并在运行时将它们加载到最终用户的浏览器中。</p>
<p>资源的“传输大小”表示通过网络传输所需的总字节数。这有时也称为网络上的字节数。此大小考虑传输的有效负载和任何请求/响应标头。</p>
<div class="island-directive tip"><p class="island-directive-title">原文</p><div class="island-directive-content"><p>The Transfer Size of a resource represents the total number of bytes required for transfer across the network. This is also sometimes referred to as bytes over the wire. This size considers the transferred payload and any request / response headers.</p></div></div>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109151721.png" alt="20231109151721"/></p>
<p>通常，资源的传输大小越大，通过网络传输所需的时间就越长。</p>
<h2 id="optimizing-transfer-size优化传输大小"><a class="header-anchor" aria-hidden="true" href="#optimizing-transfer-size优化传输大小">#</a>Optimizing Transfer Size 优化传输大小</h2>
<p>有多种技术可以优化传输大小。</p>
<p>每种技术都旨在减少传输网络资源所需的时间。</p>
<h3 id="resource-compression资源压缩"><a class="header-anchor" aria-hidden="true" href="#resource-compression资源压缩">#</a>Resource Compression 资源压缩</h3>
<p>通过使用 gzip 和 brotli 等标准资源压缩算法，可以大大减小传输大小。</p>
<p>这通常通过让服务器或构建进程在将资源传输给最终用户之前压缩资源来工作：</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109151856.png" alt="20231109151856"/></p>
<p>在此示例中，此资源的传输大小为 24 kB，因为 24 kB 是通过网络传输的。</p>
<p>资源一旦交付，必须由最终用户的浏览器解压缩，然后才能进一步处理：</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109151934.png" alt="20231109151934"/></p>
<p>通过在通过网络发送资源之前<a href="https://webperf.tips/tip/validating-compression" target="_blank" rel="nofollow">压缩资源</a>，Web 应用程序可以优化向最终用户交付资产。</p>
<h3 id="resource-caching资源缓存"><a class="header-anchor" aria-hidden="true" href="#resource-caching资源缓存">#</a>Resource Caching 资源缓存</h3>
<p>通常，大多数 Web 应用程序利用某种形式的<a href="https://webperf.tips/tip/browser-cache" target="_blank" rel="nofollow">浏览器缓存</a>将资源保留在最终用户的设备上。</p>
<p>当资源保留在浏览器缓存中时，它不必通过网络传输任何字节。</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109152213.png" alt="20231109152213"/></p>
<p>这就是为什么缓存是改善传输大小的流行优化 - 如果从最终用户的浏览器缓存加载资源，则它的网络传输大小为 0 字节！</p>
<h2 id="resource-size资源大小"><a class="header-anchor" aria-hidden="true" href="#resource-size资源大小">#</a>Resource Size 资源大小</h2>
<p>与传输大小不同，资源大小完全独立于网络的任何概念; 它仅表示构成资源的总字节数，而不考虑应用任何缓存或压缩。</p>
<p>在下面的示例中，JavaScript 文件的资源大小为 80 kB，但传输大小为 24 kB：</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109152334.png" alt="20231109152334"/></p>
<h2 id="resource-size-overhead资源大小开销"><a class="header-anchor" aria-hidden="true" href="#resource-size-overhead资源大小开销">#</a>Resource Size Overhead 资源大小开销</h2>
<p>Web 开发人员普遍存在一种误解，即如果资源以最佳方式交付或缓存，则不会降低 Web 应用程序的性能。</p>
<p>这与事实相去甚远！</p>
<p>一旦资源被传送到最终用户的浏览器（或从缓存中加载），我们就会开始看到它对最终用户 CPU 的影响。</p>
<p>通常，资源的Resource Size越大，在最终用户的 CPU 上处理所需的时间就越长。</p>
<div class="island-directive tip"><p class="island-directive-title">TIP</p><div class="island-directive-content"><p>注意：最终用户的 CPU 和硬件通常比开发人员慢。缓慢的硬件进一步加剧了大型资源大小的开销。</p></div></div>
<h3 id="example-javascript-overhead-javascript-开销"><a class="header-anchor" aria-hidden="true" href="#example-javascript-overhead-javascript-开销">#</a>Example: JavaScript Overhead (JavaScript 开销)</h3>
<p>例如，如果我们将解压缩的 80 kB JavaScript 文件加载到用户的浏览器中，这意味着必须在最终用户的设备上解析、编译和执行 80 kB 文件。此成本与资源传输的速度或是否从浏览器缓存加载无关。</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109152718.png" alt="20231109152718"/></p>
<p>有关这方面的更多详细信息，<a href="https://webperf.tips/tip/cached-js-misconceptions" target="_blank" rel="nofollow">请阅读我关于为什么缓存的 JS 仍然很慢的提示</a>。</p>
<h3 id="example-image-overhead图像开销"><a class="header-anchor" aria-hidden="true" href="#example-image-overhead图像开销">#</a>Example: Image Overhead (图像开销)</h3>
<p>图像需要在最终用户的设备上进行解码才能显示在屏幕上。此成本与图像是否快速传输或从浏览器缓存加载无关：</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109152937.png" alt="20231109152937"/></p>
<h2 id="optimizing-resource-size优化资源大小"><a class="header-anchor" aria-hidden="true" href="#optimizing-resource-size优化资源大小">#</a>Optimizing Resource Size 优化资源大小</h2>
<p>有多种技术可以优化资源大小。每个目标都是从根本上减少资源的大小及其对最终用户 CPU 的影响。</p>
<p>其中一些技术包括：</p>
<ul>
<li><a href="https://webperf.tips/tip/resource-minification" target="_blank" rel="nofollow">JavaScript and CSS minification<br/>
<!-- -->JavaScript 和 CSS 缩小</a></li>
<li><a href="https://webperf.tips/tip/image-optimizations" target="_blank" rel="nofollow">Optimizing Image Formats<br/>
<!-- -->优化图像格式</a></li>
<li><a href="https://webperf.tips/tip/code-splitting" target="_blank" rel="nofollow">JavaScript Code Splitting<br/>
<!-- -->JavaScript 代码拆分</a></li>
<li><a href="https://webperf.tips/tip/lazy-loading" target="_blank" rel="nofollow">Lazy Loading resources 延迟加载资源</a></li>
</ul>
<p>通过减小资源的大小，可以直接最大程度地减少其在最终用户 CPU 上的开销。</p>
<p>例如，与 80kB 的 JavaScript 文件相比，浏览器解析和编译 10kB JavaScript 文件所需的时间更少：</p>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109153405.png" alt="20231109153405"/></p>
<div class="island-directive tip"><p class="island-directive-title">TIP</p><div class="island-directive-content"><p>有了这些知识，在向网络应用程序导入新的 JavaScript 库（或其他依赖项）时就会格外小心！当一个库声称只消耗 &quot;N 字节 &quot;时，一定要搞清楚这是 N 压缩字节还是 N 资源字节。</p></div></div>
<h2 id="optimizing-resource-size-helps-transfer-size-优化资源大小有助于传输大小"><a class="header-anchor" aria-hidden="true" href="#optimizing-resource-size-helps-transfer-size-优化资源大小有助于传输大小">#</a>Optimizing Resource Size Helps Transfer Size (优化资源大小有助于传输大小)</h2>
<p>在优化资源大小时，您也在直接优化传输大小！</p>
<p>由于传输大小通常是资源的压缩结果，因此较小的资源会产生更小的压缩资源！</p>
<p>例如，如果您将资源大小为 80kB 的 JavaScript 有效载荷优化并缩减到资源大小为 10kB，这对最终用户的 CPU 利用率来说是一个巨大的改善。这对传输大小也是一个巨大的改善。</p>
<p>压缩 10kB 资源会产生大约 4kB 的传输大小，这可以通过网络传送的速度比压缩的 80kB 资源（传输大小约为 24kB）快得多！</p>
<div class="island-directive tip"><p class="island-directive-title">原文</p><div class="island-directive-content"><p>Compressing a 10kB resource produces about 4kB of Transfer Size, which can be delivered across the network much faster than a compressed 80kB resource at around 24kB of Transfer Size!</p></div></div>
<p><img src="https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109153953.png" alt="20231109153953"/></p>
<h2 id="measuring-resource-and-transfer-size-测量资源和传输大小"><a class="header-anchor" aria-hidden="true" href="#measuring-resource-and-transfer-size-测量资源和传输大小">#</a>Measuring Resource and Transfer Size (测量资源和传输大小)</h2>
<p>要在本地测量资源和传输大小，我建议使用 Chromium 网络选项卡和 Chromium F12 Profiler 网络窗格。</p>
<p>您还可以利用<a href="https://webperf.tips/tip/common-network-bottlenecks" target="_blank" rel="nofollow">性能资源计时</a>在运行时从用户那里收集大小元数据和计时。</p><!--/$--></div><footer mt="8"><div class="xs:flex" p="b-5" justify="between" items-center="~"><div flex="" text="sm text-2" leading-6="~" leading-8="sm:~" font-medium=""><p>Last Updated: </p><span>2023/11/9 01:52:20</span></div></div><div flex="~ col sm:row" justify="sm:around" gap="2" divider-top="" pt="6"><div flex="~ col" class="_prev_1f77m_13"><a href="/chrome/performance/tips/profiler-basic-ui" class="_pager-link_1f77m_20"><span class="_desc_1f77m_43">Previous Page</span><span class="_title_1f77m_34">Chromium F12 性能分析器的基本概述</span></a></div><div flex="~ col" class="_next_1f77m_16"><a href="/chrome/performance/tips/understanding-flamegraphs" class="_pager-link_1f77m_20 _next_1f77m_16"><span class="_desc_1f77m_43">Next page</span><span class="_title_1f77m_34">如何阅读火焰图 🔥</span></a></div></div></footer></div></div><div relative="~" display="none lg:block" order="2" flex="1" p="l-8" class="max-w-256px"><div class="_aside-container_5cssi_32"><div flex="~ col" p="b-8" style="min-height:calc(100vh - (var(--island-nav-height-desktop) + 32px))"><div><div flex="~ col 1"><div display="lg:block"><div relative="" divider-left="" p="l-4" text="13px" font-medium="" id="aside-container"><div absolute="" pos="top-33px" opacity="0" w="1px" h="18px" bg="brand" style="left:-1px;transition:top 0.25s cubic-bezier(0, 1, 0.5, 1), background-color 0.5s, opacity 0.25s" id="aside-marker"></div><div block="~" leading-7="" text="13px" font="semibold">目录</div><nav><ul relative=""><li><a href="#transfer-size传输大小" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Transfer Size 传输大小</a></li><li><a href="#optimizing-transfer-size优化传输大小" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Optimizing Transfer Size 优化传输大小</a></li><li><a href="#resource-compression资源压缩" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:12px">Resource Compression 资源压缩</a></li><li><a href="#resource-caching资源缓存" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:12px">Resource Caching 资源缓存</a></li><li><a href="#resource-size资源大小" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Resource Size 资源大小</a></li><li><a href="#resource-size-overhead资源大小开销" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Resource Size Overhead 资源大小开销</a></li><li><a href="#example-javascript-overhead-javascript-开销" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:12px">Example: JavaScript Overhead (JavaScript 开销)</a></li><li><a href="#example-image-overhead图像开销" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:12px">Example: Image Overhead (图像开销)</a></li><li><a href="#optimizing-resource-size优化资源大小" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Optimizing Resource Size 优化资源大小</a></li><li><a href="#optimizing-resource-size-helps-transfer-size-优化资源大小有助于传输大小" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Optimizing Resource Size Helps Transfer Size (优化资源大小有助于传输大小)</a></li><li><a href="#measuring-resource-and-transfer-size-测量资源和传输大小" block="" leading-7="" text="text-2" avoid-text-overflow="" hover="text-text-1" transition="color duration-300" style="padding-left:0">Measuring Resource and Transfer Size (测量资源和传输大小)</a></li></ul></nav></div></div></div></div></div></div></div></div></div></section></div></div>
      <script>window.ISLAND_PAGE_DATA={"siteData":{"lang":"en-US","title":"beka的博客","description":"Island","themeConfig":{"lastUpdatedText":"上次更新","outlineTitle":"目录","nav":[{"text":"Article","link":"/article/astro","activeMatch":"/article/"},{"text":"Chrome","link":"/chrome/fast-load-time/user-centric-performance-metrics","activeMatch":"/chrome/"},{"text":"Design-pattern","link":"/design-pattern/indexs","activeMatch":"/design-pattern/"},{"text":"Open-source","link":"/open-source/delay","activeMatch":"/open-source/"},{"text":"Promise","link":"/promise/first-resolved","activeMatch":"/promise/"},{"text":"Webpack","link":"/webpack/build-result","activeMatch":"/webpack/"}],"sidebar":{"article":[{"text":"Article","items":[{"text":"Astro","link":"/article/astro"},{"text":"新一代全栈框架 Fresh","link":"/article/fresh"}],"collapsable":true}],"chrome":[{"text":"Chorme lala","items":[{"text":"以用户为中心的效果指标","link":"/chrome/fast-load-time/user-centric-performance-metrics"}],"collapsable":true},{"text":"浏览器工作原理","items":[{"text":"高级体系结构（第 1 部分）","link":"/chrome/how-web-browser-works/part-1_high-level-architecture"},{"text":"导航阶段（第 2 部分）","link":"/chrome/how-web-browser-works/part-2_navigation-phase"},{"text":"渲染阶段（第 3 部分）","link":"/chrome/how-web-browser-works/part-3_rendering-phase"},{"text":"加载阶段的优化（第 4 部分）","link":"/chrome/how-web-browser-works/part-4_optimization-in-the-loading-stage"},{"text":"交互阶段的优化（第 5 部分）","link":"/chrome/how-web-browser-works/part-5_optimization-in-the-interaction-stage"},{"text":"什么强制了重排/回流","link":"/chrome/how-web-browser-works/what-forces-layout-reflow"}],"collapsable":true},{"text":"Html","items":[{"text":"Metadata","link":"/chrome/html/metadata"},{"text":"html","link":"/chrome/html/overview"},{"text":"# 文档结构","link":"/chrome/html/structure"}],"collapsable":true},{"text":"关键指标","items":[{"text":"First Contentful Paint (FCP)","link":"/chrome/metrics/FCP"},{"text":"Largest Contentful Paint (LCP)","link":"/chrome/metrics/LCP"},{"text":"Time to First Byte (TTFB)","link":"/chrome/metrics/TTFB"}],"collapsable":true},{"text":"性能","items":[{"text":"一般 HTML 性能注意事项","link":"/chrome/performance/general-html-performance"},{"text":"optimize-resource-loading 优化资源负载","link":"/chrome/performance/optimize-resource-loading"},{"text":"asdf","link":"/chrome/performance/welcome-copy"},{"text":"Welcome to Lean performance","link":"/chrome/performance/welcome"},{"text":"速度为什么重要","link":"/chrome/performance/why-speed-matters"}],"collapsable":true},{"text":"性能技巧","items":[{"text":"Web 上的多进程：浏览器进程模型","link":"/chrome/performance/tips/browser-process-model"},{"text":"Browser Rendering Pipeline","link":"/chrome/performance/tips/browser-rendering-pipeline"},{"text":"通过火焰图找到有问题的代码","link":"/chrome/performance/tips/codepath-scoping"},{"text":"如何收集 Web 性能跟踪","link":"/chrome/performance/tips/collect-a-trace"},{"text":"事件循环基础知识","link":"/chrome/performance/tips/event-loop"},{"text":"深度讲解火焰图 🔥🔥","link":"/chrome/performance/tips/flamegraphs-in-depth"},{"text":"长任务：它们是什么以及为什么应该避免它们","link":"/chrome/performance/tips/long-tasks"},{"text":"performance 查看主线程（颜色含义）","link":"/chrome/performance/tips/main-profiler-pane"},{"text":"检测浏览器何时在 JavaScript 中绘制Frame","link":"/chrome/performance/tips/measuring-paint-time"},{"text":"如何阅读 Chromium Profiler","link":"/chrome/performance/tips/network-profiler-pane"},{"text":"使用 Chromium 网络标签页获取性能详情","link":"/chrome/performance/tips/network-tab"},{"text":"使用性能时序标记进行📏测量","link":"/chrome/performance/tips/performance-timing-markers"},{"text":"Chromium F12 性能分析器的基本概述","link":"/chrome/performance/tips/profiler-basic-ui"},{"text":"传输大小 vs 资源大小","link":"/chrome/performance/tips/resource-size-vs-transfer-size"},{"text":"如何阅读火焰图 🔥","link":"/chrome/performance/tips/understanding-flamegraphs"},{"text":"识别 Web 应用中的未压缩资源","link":"/chrome/performance/tips/validating-compression"}],"collapsable":true}],"design-pattern":[{"text":"Design-pattern","items":[{"text":"资源列表","link":"/design-pattern/indexs"},{"text":"代理模式","link":"/design-pattern/proxy-pattern"},{"text":"Singleton Pattern","link":"/design-pattern/singleton-pattern"},{"text":"状态模式","link":"/design-pattern/state-pattern"},{"text":"策略模式","link":"/design-pattern/strategy-pattern"}],"collapsable":true}],"open-source":[{"text":"Open-source","items":[{"text":"delay","link":"/open-source/delay"},{"text":"dot-prop","link":"/open-source/dot-prop"},{"text":"glob-to-regexp","link":"/open-source/glob-to-regexp"},{"text":"koa 洋葱模型","link":"/open-source/koa-compose"},{"text":"quick-lru","link":"/open-source/lru-cache"},{"text":"p-defer","link":"/open-source/p-defer"},{"text":"p-lazy","link":"/open-source/p-lazy"},{"text":"p-limit","link":"/open-source/p-limit"},{"text":"p-locate","link":"/open-source/p-locate"},{"text":"p-settle","link":"/open-source/p-settle"},{"text":"yocto-queue","link":"/open-source/yocto-queue"}],"collapsable":true}],"promise":[{"text":"Promise","items":[{"text":"顺序执行任务直到第一个resolved","link":"/promise/first-resolved"},{"text":"reduce实现多个promise顺序执行","link":"/promise/sequential-execution"}],"collapsable":true}],"webpack":[{"text":"Webpack","items":[{"text":"webpack 打包结果解析","link":"/webpack/build-result"},{"text":"mini-webpack","link":"/webpack/mini-webpack"},{"text":"minipack","link":"/webpack/minipack"},{"text":"[todo]tapable","link":"/webpack/tapable"}],"collapsable":true}]},"footer":{"message":"Released under the MIT License.","copyright":"Copyright © 2022-present Beka"}},"head":[["script",{"id":"check-dark-light"},"\n        ;(() => {\n          const saved = localStorage.getItem('island-theme-appearance')\n          const prefereDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n          if (!saved || saved === 'auto' ? prefereDark : saved === 'dark') {\n            document.documentElement.classList.add('dark')\n          }\n        })()\n      "]],"base":"","icon":"","root":"/Users/beka/Desktop/code/bekacodechn.github.io/blog","appearance":true},"pagePath":"/Users/beka/Desktop/code/bekacodechn.github.io/blog/chrome/performance/tips/resource-size-vs-transfer-size.md","relativePagePath":"chrome/performance/tips/resource-size-vs-transfer-size.md","toc":[{"id":"transfer-size传输大小","text":"Transfer Size 传输大小","depth":2},{"id":"optimizing-transfer-size优化传输大小","text":"Optimizing Transfer Size 优化传输大小","depth":2},{"id":"resource-compression资源压缩","text":"Resource Compression 资源压缩","depth":3},{"id":"resource-caching资源缓存","text":"Resource Caching 资源缓存","depth":3},{"id":"resource-size资源大小","text":"Resource Size 资源大小","depth":2},{"id":"resource-size-overhead资源大小开销","text":"Resource Size Overhead 资源大小开销","depth":2},{"id":"example-javascript-overhead-javascript-开销","text":"Example: JavaScript Overhead (JavaScript 开销)","depth":3},{"id":"example-image-overhead图像开销","text":"Example: Image Overhead (图像开销)","depth":3},{"id":"optimizing-resource-size优化资源大小","text":"Optimizing Resource Size 优化资源大小","depth":2},{"id":"optimizing-resource-size-helps-transfer-size-优化资源大小有助于传输大小","text":"Optimizing Resource Size Helps Transfer Size (优化资源大小有助于传输大小)","depth":2},{"id":"measuring-resource-and-transfer-size-测量资源和传输大小","text":"Measuring Resource and Transfer Size (测量资源和传输大小)","depth":2}],"title":"传输大小 vs 资源大小","lastUpdatedTime":"2023/11/9 01:52:20","content":"# 传输大小 vs 资源大小\n\n`metadata:`\n\n**原标题:** Transfer Size vs. Resource Size\n\n**链接:** https://webperf.tips/tip/resource-size-vs-transfer-size/\n\n---\n\nWeb 应用程序提供给最终用户的资源（图像、JavaScript 文件、CSS 文件等）的大小直接影响性能。\n\n请务必明确测量大小的两种关键方法：传输大小(Transfer Size)和资源大小(Resource Size)。\n\n在本文中，我们将讨论每种方法及其对性能的影响。\n\n## Transfer Size 传输大小\n\nWeb 应用程序旨在从网络中检索远程资源，并在运行时将它们加载到最终用户的浏览器中。\n\n资源的“传输大小”表示通过网络传输所需的总字节数。这有时也称为网络上的字节数。此大小考虑传输的有效负载和任何请求/响应标头。\n\n:::tip{title=原文}\nThe Transfer Size of a resource represents the total number of bytes required for transfer across the network. This is also sometimes referred to as bytes over the wire. This size considers the transferred payload and any request / response headers.\n:::\n\n![20231109151721](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109151721.png)\n\n通常，资源的传输大小越大，通过网络传输所需的时间就越长。\n\n## Optimizing Transfer Size 优化传输大小\n\n有多种技术可以优化传输大小。\n\n每种技术都旨在减少传输网络资源所需的时间。\n\n### Resource Compression 资源压缩\n\n通过使用 gzip 和 brotli 等标准资源压缩算法，可以大大减小传输大小。\n\n这通常通过让服务器或构建进程在将资源传输给最终用户之前压缩资源来工作：\n\n![20231109151856](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109151856.png)\n\n在此示例中，此资源的传输大小为 24 kB，因为 24 kB 是通过网络传输的。\n\n资源一旦交付，必须由最终用户的浏览器解压缩，然后才能进一步处理：\n\n![20231109151934](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109151934.png)\n\n通过在通过网络发送资源之前[压缩资源](https://webperf.tips/tip/validating-compression)，Web 应用程序可以优化向最终用户交付资产。\n\n### Resource Caching 资源缓存\n\n通常，大多数 Web 应用程序利用某种形式的[浏览器缓存](https://webperf.tips/tip/browser-cache)将资源保留在最终用户的设备上。\n\n当资源保留在浏览器缓存中时，它不必通过网络传输任何字节。\n\n![20231109152213](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109152213.png)\n\n这就是为什么缓存是改善传输大小的流行优化 - 如果从最终用户的浏览器缓存加载资源，则它的网络传输大小为 0 字节！\n\n## Resource Size 资源大小\n\n与传输大小不同，资源大小完全独立于网络的任何概念; 它仅表示构成资源的总字节数，而不考虑应用任何缓存或压缩。\n\n在下面的示例中，JavaScript 文件的资源大小为 80 kB，但传输大小为 24 kB：\n\n![20231109152334](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109152334.png)\n\n## Resource Size Overhead 资源大小开销\n\nWeb 开发人员普遍存在一种误解，即如果资源以最佳方式交付或缓存，则不会降低 Web 应用程序的性能。\n\n这与事实相去甚远！\n\n一旦资源被传送到最终用户的浏览器（或从缓存中加载），我们就会开始看到它对最终用户 CPU 的影响。\n\n通常，资源的Resource Size越大，在最终用户的 CPU 上处理所需的时间就越长。\n\n:::tip\n注意：最终用户的 CPU 和硬件通常比开发人员慢。缓慢的硬件进一步加剧了大型资源大小的开销。\n:::\n\n### Example: JavaScript Overhead (JavaScript 开销)\n\n例如，如果我们将解压缩的 80 kB JavaScript 文件加载到用户的浏览器中，这意味着必须在最终用户的设备上解析、编译和执行 80 kB 文件。此成本与资源传输的速度或是否从浏览器缓存加载无关。\n\n![20231109152718](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109152718.png)\n\n有关这方面的更多详细信息，[请阅读我关于为什么缓存的 JS 仍然很慢的提示](https://webperf.tips/tip/cached-js-misconceptions)。\n\n### Example: Image Overhead (图像开销)\n\n图像需要在最终用户的设备上进行解码才能显示在屏幕上。此成本与图像是否快速传输或从浏览器缓存加载无关：\n\n![20231109152937](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109152937.png)\n\n## Optimizing Resource Size 优化资源大小\n\n有多种技术可以优化资源大小。每个目标都是从根本上减少资源的大小及其对最终用户 CPU 的影响。\n\n其中一些技术包括：\n\n*   [JavaScript and CSS minification  \n    JavaScript 和 CSS 缩小](https://webperf.tips/tip/resource-minification)\n*   [Optimizing Image Formats  \n    优化图像格式](https://webperf.tips/tip/image-optimizations)\n*   [JavaScript Code Splitting  \n    JavaScript 代码拆分](https://webperf.tips/tip/code-splitting)\n*   [Lazy Loading resources 延迟加载资源](https://webperf.tips/tip/lazy-loading)\n\n通过减小资源的大小，可以直接最大程度地减少其在最终用户 CPU 上的开销。\n\n例如，与 80kB 的 JavaScript 文件相比，浏览器解析和编译 10kB JavaScript 文件所需的时间更少：\n\n![20231109153405](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109153405.png)\n\n:::tip\n有了这些知识，在向网络应用程序导入新的 JavaScript 库（或其他依赖项）时就会格外小心！当一个库声称只消耗 \"N 字节 \"时，一定要搞清楚这是 N 压缩字节还是 N 资源字节。\n:::\n\n## Optimizing Resource Size Helps Transfer Size (优化资源大小有助于传输大小)\n\n在优化资源大小时，您也在直接优化传输大小！\n\n由于传输大小通常是资源的压缩结果，因此较小的资源会产生更小的压缩资源！\n\n例如，如果您将资源大小为 80kB 的 JavaScript 有效载荷优化并缩减到资源大小为 10kB，这对最终用户的 CPU 利用率来说是一个巨大的改善。这对传输大小也是一个巨大的改善。\n\n压缩 10kB 资源会产生大约 4kB 的传输大小，这可以通过网络传送的速度比压缩的 80kB 资源（传输大小约为 24kB）快得多！\n\n:::tip{title=原文}\nCompressing a 10kB resource produces about 4kB of Transfer Size, which can be delivered across the network much faster than a compressed 80kB resource at around 24kB of Transfer Size!\n:::\n\n![20231109153953](https://blog-1318409910.cos.ap-beijing.myqcloud.com/blog/20231109153953.png)\n\n## Measuring Resource and Transfer Size (测量资源和传输大小)\n\n要在本地测量资源和传输大小，我建议使用 Chromium 网络选项卡和 Chromium F12 Profiler 网络窗格。\n\n您还可以利用[性能资源计时](https://webperf.tips/tip/common-network-bottlenecks)在运行时从用户那里收集大小元数据和计时。\n","pageType":"doc","routePath":"/chrome/performance/tips/resource-size-vs-transfer-size"};</script>
      
      <script type="module" src="/client-entry.js"></script>
    </body>
  </html>